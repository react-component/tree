"use strict";(self.webpackChunkrc_tree=self.webpackChunkrc_tree||[]).push([[268],{48092:function(ln,it,S){S.d(it,{O:function(){return Ke},Z:function(){return nn}});var st=S(31468),ke=S.n(st),lt=S(82242),L=S.n(lt),ct=S(37205),q=S.n(ct),ut=S(82100),$e=S.n(ut),ft=S(29186),Ae=S.n(ft),vt=S(13720),x=S.n(vt),pt=S(80619),je=S.n(pt),ht=S(47074),Fe=S.n(ht),gt=S(85573),h=S.n(gt),yt=S(92310),B=S.n(yt),ne=S(76507),Ze=S(53863),X=S(14097),$=S(71062),me=$.createContext(null),M=S(99678);function Kt(a){var i=a.dropPosition,f=a.dropLevelOffset,e=a.indent,d={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(i){case-1:d.top=0,d.left=-f*e;break;case 1:d.bottom=0,d.left=-f*e;break;case 0:d.bottom=0,d.left=e;break}return(0,M.jsx)("div",{style:d})}var xt=S(70236),He=S.n(xt),Nt=S(79800),_=S.n(Nt),kt=S(39647),he=S.n(kt),ge=S(826),mt=S(34872),Ct=S(44516),Et=function(i){for(var f=i.prefixCls,e=i.level,d=i.isStart,c=i.isEnd,v="".concat(f,"-indent-unit"),t=[],n=0;n<e;n+=1)t.push((0,M.jsx)("span",{className:B()(v,h()(h()({},"".concat(v,"-start"),d[n]),"".concat(v,"-end"),c[n]))},n));return(0,M.jsx)("span",{"aria-hidden":"true",className:"".concat(f,"-indent"),children:t})},Dt=$.memo(Et);function H(a,i){return a[i]}var St=S(90986),bt=S(81304),Pt=["children"];function Ue(a,i){return"".concat(a,"-").concat(i)}function Tt(a){return a&&a.type&&a.type.isTreeNode}function se(a,i){return a!=null?a:i}function ye(a){var i=a||{},f=i.title,e=i._title,d=i.key,c=i.children,v=f||"title";return{title:v,_title:e||[v],key:d||"key",children:c||"children"}}function cn(a,i){var f=new Map;function e(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(d||[]).forEach(function(v){var t=v[i.key],n=v[i.children];warning(t!=null,"Tree node must have a certain key: [".concat(c).concat(t,"]"));var r=String(t);warning(!f.has(r)||t===null||t===void 0,"Same 'key' exist in the Tree: ".concat(r)),f.set(r,!0),e(n,"".concat(c).concat(r," > "))})}e(a)}function Ot(a){function i(f){var e=(0,St.Z)(f);return e.map(function(d){if(!Tt(d))return(0,X.ZP)(!d,"Tree/TreeNode can only accept TreeNode as children."),null;var c=d.key,v=d.props,t=v.children,n=he()(v,Pt),r=L()({key:c},n),o=i(t);return o.length&&(r.children=o),r}).filter(function(d){return d})}return i(a)}function Ce(a,i,f){var e=ye(f),d=e._title,c=e.key,v=e.children,t=new Set(i===!0?[]:i),n=[];function r(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o.map(function(u,p){for(var g=Ue(s?s.pos:"0",p),K=se(u[c],g),l,y=0;y<d.length;y+=1){var m=d[y];if(u[m]!==void 0){l=u[m];break}}var N=Object.assign((0,bt.Z)(u,[].concat(q()(d),[c,v])),{title:l,key:K,parent:s,pos:g,children:null,data:u,isStart:[].concat(q()(s?s.isStart:[]),[p===0]),isEnd:[].concat(q()(s?s.isEnd:[]),[p===o.length-1])});return n.push(N),i===!0||t.has(K)?N.children=r(u[v]||[],N):N.children=[],N})}return r(a),n}function Lt(a,i,f){var e={};ke()(f)==="object"?e=f:e={externalGetKey:f},e=e||{};var d=e,c=d.childrenPropName,v=d.externalGetKey,t=d.fieldNames,n=ye(t),r=n.key,o=n.children,s=c||o,u;v?typeof v=="string"?u=function(K){return K[v]}:typeof v=="function"&&(u=function(K){return v(K)}):u=function(K,l){return se(K[r],l)};function p(g,K,l,y){var m=g?g[s]:a,N=g?Ue(l.pos,K):"0",k=g?[].concat(q()(y),[g]):[];if(g){var C=u(g,N),D={node:g,index:K,pos:N,key:C,parentPos:l.node?l.pos:null,level:l.level+1,nodes:k};i(D)}m&&m.forEach(function(T,E){p(T,E,{node:g,pos:N,level:l?l.level+1:-1},k)})}p(null)}function Mt(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=i.initWrapper,e=i.processEntity,d=i.onProcessFinished,c=i.externalGetKey,v=i.childrenPropName,t=i.fieldNames,n=arguments.length>2?arguments[2]:void 0,r=c||n,o={},s={},u={posEntities:o,keyEntities:s};return f&&(u=f(u)||u),Lt(a,function(p){var g=p.node,K=p.index,l=p.pos,y=p.key,m=p.parentPos,N=p.level,k=p.nodes,C={node:g,nodes:k,index:K,key:y,pos:l,level:N},D=se(y,l);o[l]=C,s[D]=C,C.parent=o[m],C.parent&&(C.parent.children=C.parent.children||[],C.parent.children.push(C)),e&&e(C,u)},{externalGetKey:r,childrenPropName:v,fieldNames:t}),d&&d(u),u}function le(a,i){var f=i.expandedKeys,e=i.selectedKeys,d=i.loadedKeys,c=i.loadingKeys,v=i.checkedKeys,t=i.halfCheckedKeys,n=i.dragOverNodeKey,r=i.dropPosition,o=i.keyEntities,s=H(o,a),u={eventKey:a,expanded:f.indexOf(a)!==-1,selected:e.indexOf(a)!==-1,loaded:d.indexOf(a)!==-1,loading:c.indexOf(a)!==-1,checked:v.indexOf(a)!==-1,halfChecked:t.indexOf(a)!==-1,pos:String(s?s.pos:""),dragOver:n===a&&r===0,dragOverGapTop:n===a&&r===-1,dragOverGapBottom:n===a&&r===1};return u}function A(a){var i=a.data,f=a.expanded,e=a.selected,d=a.checked,c=a.loaded,v=a.loading,t=a.halfChecked,n=a.dragOver,r=a.dragOverGapTop,o=a.dragOverGapBottom,s=a.pos,u=a.active,p=a.eventKey,g=L()(L()({},i),{},{expanded:f,selected:e,checked:d,loaded:c,loading:v,halfChecked:t,dragOver:n,dragOverGapTop:r,dragOverGapBottom:o,pos:s,active:u,key:p});return"props"in g||Object.defineProperty(g,"props",{get:function(){return(0,X.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),a}}),g}var wt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Ge="open",We="close",It="---",Rt=function(a){je()(f,a);var i=Fe()(f);function f(){var e;$e()(this,f);for(var d=arguments.length,c=new Array(d),v=0;v<d;v++)c[v]=arguments[v];return e=i.call.apply(i,[this].concat(c)),h()(x()(e),"state",{dragNodeHighlight:!1}),h()(x()(e),"selectHandle",void 0),h()(x()(e),"cacheIndent",void 0),h()(x()(e),"onSelectorClick",function(t){var n=e.props.context.onNodeClick;n(t,A(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)}),h()(x()(e),"onSelectorDoubleClick",function(t){var n=e.props.context.onNodeDoubleClick;n(t,A(e.props))}),h()(x()(e),"onSelect",function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;n(t,A(e.props))}}),h()(x()(e),"onCheck",function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,o=n.checked,s=e.props.context.onNodeCheck;if(!(!e.isCheckable()||r)){var u=!o;s(t,A(e.props),u)}}}),h()(x()(e),"onMouseEnter",function(t){var n=e.props.context.onNodeMouseEnter;n(t,A(e.props))}),h()(x()(e),"onMouseLeave",function(t){var n=e.props.context.onNodeMouseLeave;n(t,A(e.props))}),h()(x()(e),"onContextMenu",function(t){var n=e.props.context.onNodeContextMenu;n(t,A(e.props))}),h()(x()(e),"onDragStart",function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,x()(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}}),h()(x()(e),"onDragEnter",function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,x()(e))}),h()(x()(e),"onDragOver",function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,x()(e))}),h()(x()(e),"onDragLeave",function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,x()(e))}),h()(x()(e),"onDragEnd",function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,x()(e))}),h()(x()(e),"onDrop",function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,x()(e))}),h()(x()(e),"onExpand",function(t){var n=e.props,r=n.loading,o=n.context.onNodeExpand;r||o(t,A(e.props))}),h()(x()(e),"setSelectHandle",function(t){e.selectHandle=t}),h()(x()(e),"getNodeState",function(){var t=e.props.expanded;return e.isLeaf()?null:t?Ge:We}),h()(x()(e),"hasChildren",function(){var t=e.props.eventKey,n=e.props.context.keyEntities,r=H(n,t)||{},o=r.children;return!!(o||[]).length}),h()(x()(e),"isLeaf",function(){var t=e.props,n=t.isLeaf,r=t.loaded,o=e.props.context.loadData,s=e.hasChildren();return n===!1?!1:n||!o&&!s||o&&r&&!s}),h()(x()(e),"isDisabled",function(){var t=e.props.disabled,n=e.props.context.disabled;return!!(n||t)}),h()(x()(e),"isCheckable",function(){var t=e.props.checkable,n=e.props.context.checkable;return!n||t===!1?!1:n}),h()(x()(e),"syncLoadData",function(t){var n=t.expanded,r=t.loading,o=t.loaded,s=e.props.context,u=s.loadData,p=s.onNodeLoad;r||u&&n&&!e.isLeaf()&&!o&&p(A(e.props))}),h()(x()(e),"isDraggable",function(){var t=e.props,n=t.data,r=t.context.draggable;return!!(r&&(!r.nodeDraggable||r.nodeDraggable(n)))}),h()(x()(e),"renderDragHandler",function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return n!=null&&n.icon?(0,M.jsx)("span",{className:"".concat(r,"-draggable-icon"),children:n.icon}):null}),h()(x()(e),"renderSwitcherIconDom",function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,o=n||r;return typeof o=="function"?o(L()(L()({},e.props),{},{isLeaf:t})):o}),h()(x()(e),"renderSwitcher",function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return r!==!1?(0,M.jsx)("span",{className:B()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop")),children:r}):null}var o=B()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?Ge:We)),s=e.renderSwitcherIconDom(!1);return s!==!1?(0,M.jsx)("span",{onClick:e.onExpand,className:o,children:s}):null}),h()(x()(e),"renderCheckbox",function(){var t=e.props,n=t.checked,r=t.halfChecked,o=t.disableCheckbox,s=e.props.context.prefixCls,u=e.isDisabled(),p=e.isCheckable();if(!p)return null;var g=typeof p!="boolean"?p:null;return(0,M.jsx)("span",{className:B()("".concat(s,"-checkbox"),n&&"".concat(s,"-checkbox-checked"),!n&&r&&"".concat(s,"-checkbox-indeterminate"),(u||o)&&"".concat(s,"-checkbox-disabled")),onClick:e.onCheck,children:g})}),h()(x()(e),"renderIcon",function(){var t=e.props.loading,n=e.props.context.prefixCls;return(0,M.jsx)("span",{className:B()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})}),h()(x()(e),"renderSelector",function(){var t=e.state.dragNodeHighlight,n=e.props,r=n.title,o=r===void 0?It:r,s=n.selected,u=n.icon,p=n.loading,g=n.data,K=e.props.context,l=K.prefixCls,y=K.showIcon,m=K.icon,N=K.loadData,k=K.titleRender,C=e.isDisabled(),D="".concat(l,"-node-content-wrapper"),T;if(y){var E=u||m;T=E?(0,M.jsx)("span",{className:B()("".concat(l,"-iconEle"),"".concat(l,"-icon__customize")),children:typeof E=="function"?E(e.props):E}):e.renderIcon()}else N&&p&&(T=e.renderIcon());var b;typeof o=="function"?b=o(g):k?b=k(g):b=o;var P=(0,M.jsx)("span",{className:"".concat(l,"-title"),children:b});return(0,M.jsxs)("span",{ref:e.setSelectHandle,title:typeof o=="string"?o:"",className:B()("".concat(D),"".concat(D,"-").concat(e.getNodeState()||"normal"),!C&&(s||t)&&"".concat(l,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick,children:[T,P,e.renderDropIndicator()]})}),h()(x()(e),"renderDropIndicator",function(){var t=e.props,n=t.disabled,r=t.eventKey,o=e.props.context,s=o.draggable,u=o.dropLevelOffset,p=o.dropPosition,g=o.prefixCls,K=o.indent,l=o.dropIndicatorRender,y=o.dragOverNodeKey,m=o.direction,N=!!s,k=!n&&N&&y===r,C=K!=null?K:e.cacheIndent;return e.cacheIndent=K,k?l({dropPosition:p,dropLevelOffset:u,indent:C,prefixCls:g,direction:m}):null}),e}return Ae()(f,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var d=this.props.selectable,c=this.props.context.selectable;return typeof d=="boolean"?d:c}},{key:"render",value:function(){var d,c=this.props,v=c.eventKey,t=c.className,n=c.style,r=c.dragOver,o=c.dragOverGapTop,s=c.dragOverGapBottom,u=c.isLeaf,p=c.isStart,g=c.isEnd,K=c.expanded,l=c.selected,y=c.checked,m=c.halfChecked,N=c.loading,k=c.domRef,C=c.active,D=c.data,T=c.onMouseMove,E=c.selectable,b=he()(c,wt),P=this.props.context,O=P.prefixCls,w=P.filterTreeNode,I=P.keyEntities,j=P.dropContainerKey,F=P.dropTargetKey,Z=P.draggingNodeKey,R=this.isDisabled(),V=(0,Ze.Z)(b,{aria:!0,data:!0}),Q=H(I,v)||{},ce=Q.level,ue=g[g.length-1],W=this.isDraggable(),te=!R&&W,z=Z===v,re=E!==void 0?{"aria-selected":!!E}:void 0;return(0,M.jsxs)("div",L()(L()(L()({ref:k,className:B()(t,"".concat(O,"-treenode"),(d={},h()(h()(h()(h()(h()(h()(h()(h()(h()(h()(d,"".concat(O,"-treenode-disabled"),R),"".concat(O,"-treenode-switcher-").concat(K?"open":"close"),!u),"".concat(O,"-treenode-checkbox-checked"),y),"".concat(O,"-treenode-checkbox-indeterminate"),m),"".concat(O,"-treenode-selected"),l),"".concat(O,"-treenode-loading"),N),"".concat(O,"-treenode-active"),C),"".concat(O,"-treenode-leaf-last"),ue),"".concat(O,"-treenode-draggable"),W),"dragging",z),h()(h()(h()(h()(h()(h()(d,"drop-target",F===v),"drop-container",j===v),"drag-over",!R&&r),"drag-over-gap-top",!R&&o),"drag-over-gap-bottom",!R&&s),"filter-node",w&&w(A(this.props))))),style:n,draggable:te,"aria-grabbed":z,onDragStart:te?this.onDragStart:void 0,onDragEnter:W?this.onDragEnter:void 0,onDragOver:W?this.onDragOver:void 0,onDragLeave:W?this.onDragLeave:void 0,onDrop:W?this.onDrop:void 0,onDragEnd:W?this.onDragEnd:void 0,onMouseMove:T},re),V),{},{children:[(0,M.jsx)(Dt,{prefixCls:O,level:ce,isStart:p,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector()]}))}}]),f}($.Component),Ee=function(i){return(0,M.jsx)(me.Consumer,{children:function(e){return(0,M.jsx)(Rt,L()(L()({},i),{},{context:e}))}})};Ee.displayName="TreeNode",Ee.isTreeNode=1;var Ke=Ee;function $t(a,i){var f=$.useState(!1),e=_()(f,2),d=e[0],c=e[1];(0,ge.ZP)(function(){if(d)return a(),function(){i()}},[d]),(0,ge.ZP)(function(){return c(!0),function(){c(!1)}},[])}var At=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Be=function(i,f){var e=i.className,d=i.style,c=i.motion,v=i.motionNodes,t=i.motionType,n=i.onMotionStart,r=i.onMotionEnd,o=i.active,s=i.treeNodeRequiredProps,u=he()(i,At),p=$.useState(!0),g=_()(p,2),K=g[0],l=g[1],y=$.useContext(me),m=y.prefixCls,N=v&&t!=="hide";(0,ge.ZP)(function(){v&&N!==K&&l(N)},[v]);var k=function(){v&&n()},C=$.useRef(!1),D=function(){v&&!C.current&&(C.current=!0,r())};$t(k,D);var T=function(b){N===b&&D()};return v?(0,M.jsx)(Ct.ZP,L()(L()({ref:f,visible:K},c),{},{motionAppear:t==="show",onVisibleChanged:T,children:function(b,P){var O=b.className,w=b.style;return(0,M.jsx)("div",{ref:P,className:B()("".concat(m,"-treenode-motion"),O),style:w,children:v.map(function(I){var j=Object.assign({},(He()(I.data),I.data)),F=I.title,Z=I.key,R=I.isStart,V=I.isEnd;delete j.children;var Q=le(Z,s);return(0,$.createElement)(Ke,L()(L()(L()({},j),Q),{},{title:F,active:o,data:I.data,key:Z,isStart:R,isEnd:V}))})})}})):(0,M.jsx)(Ke,L()(L()({domRef:f,className:e,style:d},u),{},{active:o}))};Be.displayName="MotionTreeNode";var jt=$.forwardRef(Be),Ft=jt;function Zt(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=a.length,e=i.length;if(Math.abs(f-e)!==1)return{add:!1,key:null};function d(c,v){var t=new Map;c.forEach(function(r){t.set(r,!0)});var n=v.filter(function(r){return!t.has(r)});return n.length===1?n[0]:null}return f<e?{add:!0,key:d(a,i)}:{add:!1,key:d(i,a)}}function Ve(a,i,f){var e=a.findIndex(function(t){return t.key===f}),d=a[e+1],c=i.findIndex(function(t){return t.key===f});if(d){var v=i.findIndex(function(t){return t.key===d.key});return i.slice(c+1,v)}return i.slice(c+1)}var Ht=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],ze={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ut=function(){},ee="RC_TREE_MOTION_".concat(Math.random()),De={key:ee},Ye={key:ee,level:0,index:0,pos:"0",node:De,nodes:[De]},Xe={parent:null,children:[],pos:Ye.pos,data:De,title:null,key:ee,isStart:[],isEnd:[]};function Je(a,i,f,e){return i===!1||!f?a:a.slice(0,Math.ceil(f/e)+1)}function Qe(a){var i=a.key,f=a.pos;return se(i,f)}function Gt(a){for(var i=String(a.data.key),f=a;f.parent;)f=f.parent,i="".concat(f.data.key," > ").concat(i);return i}var qe=$.forwardRef(function(a,i){var f=a.prefixCls,e=a.data,d=a.selectable,c=a.checkable,v=a.expandedKeys,t=a.selectedKeys,n=a.checkedKeys,r=a.loadedKeys,o=a.loadingKeys,s=a.halfCheckedKeys,u=a.keyEntities,p=a.disabled,g=a.dragging,K=a.dragOverNodeKey,l=a.dropPosition,y=a.motion,m=a.height,N=a.itemHeight,k=a.virtual,C=a.focusable,D=a.activeItem,T=a.focused,E=a.tabIndex,b=a.onKeyDown,P=a.onFocus,O=a.onBlur,w=a.onActiveChange,I=a.onListChangeStart,j=a.onListChangeEnd,F=he()(a,Ht),Z=$.useRef(null),R=$.useRef(null);$.useImperativeHandle(i,function(){return{scrollTo:function(U){Z.current.scrollTo(U)},getIndentWidth:function(){return R.current.offsetWidth}}});var V=$.useState(v),Q=_()(V,2),ce=Q[0],ue=Q[1],W=$.useState(e),te=_()(W,2),z=te[0],re=te[1],Oe=$.useState(e),xe=_()(Oe,2),Le=xe[0],ae=xe[1],oe=$.useState([]),rt=_()(oe,2),rn=rt[0],Me=rt[1],an=$.useState(null),at=_()(an,2),on=at[0],we=at[1],ot=$.useRef(e);ot.current=e;function Ie(){var G=ot.current;re(G),ae(G),Me([]),we(null),j()}(0,ge.ZP)(function(){ue(v);var G=Zt(ce,v);if(G.key!==null)if(G.add){var U=z.findIndex(function(ve){var pe=ve.key;return pe===G.key}),de=Je(Ve(z,e,G.key),k,m,N),ie=z.slice();ie.splice(U+1,0,Xe),ae(ie),Me(de),we("show")}else{var Re=e.findIndex(function(ve){var pe=ve.key;return pe===G.key}),fe=Je(Ve(e,z,G.key),k,m,N),Ne=e.slice();Ne.splice(Re+1,0,Xe),ae(Ne),Me(fe),we("hide")}else z!==e&&(re(e),ae(e))},[v,e]),$.useEffect(function(){g||Ie()},[g]);var dn=y?Le:e,dt={expandedKeys:v,selectedKeys:t,loadedKeys:r,loadingKeys:o,checkedKeys:n,halfCheckedKeys:s,dragOverNodeKey:K,dropPosition:l,keyEntities:u};return(0,M.jsxs)(M.Fragment,{children:[T&&D&&(0,M.jsx)("span",{style:ze,"aria-live":"assertive",children:Gt(D)}),(0,M.jsx)("div",{children:(0,M.jsx)("input",{style:ze,disabled:C===!1||p,tabIndex:C!==!1?E:null,onKeyDown:b,onFocus:P,onBlur:O,value:"",onChange:Ut,"aria-label":"for screen reader"})}),(0,M.jsx)("div",{className:"".concat(f,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0},children:(0,M.jsx)("div",{className:"".concat(f,"-indent"),children:(0,M.jsx)("div",{ref:R,className:"".concat(f,"-indent-unit")})})}),(0,M.jsx)(mt.Z,L()(L()({},F),{},{data:dn,itemKey:Qe,height:m,fullHeight:!1,virtual:k,itemHeight:N,prefixCls:"".concat(f,"-list"),ref:Z,onVisibleChange:function(U){U.every(function(de){return Qe(de)!==ee})&&Ie()},children:function(U){var de=U.pos,ie=Object.assign({},(He()(U.data),U.data)),Re=U.title,fe=U.key,Ne=U.isStart,ve=U.isEnd,pe=se(fe,de);delete ie.key,delete ie.children;var sn=le(pe,dt);return(0,M.jsx)(Ft,L()(L()(L()({},ie),sn),{},{title:Re,active:!!D&&fe===D.key,pos:de,data:U.data,isStart:Ne,isEnd:ve,motion:y,motionNodes:fe===ee?rn:null,motionType:on,onMotionStart:I,onMotionEnd:Ie,treeNodeRequiredProps:dt,onMouseMove:function(){w(null)}}))}}))]})});qe.displayName="NodeList";var Wt=qe,Bt=null;function Y(a,i){if(!a)return[];var f=a.slice(),e=f.indexOf(i);return e>=0&&f.splice(e,1),f}function J(a,i){var f=(a||[]).slice();return f.indexOf(i)===-1&&f.push(i),f}function Se(a){return a.split("-")}function Vt(a,i){var f=[],e=H(i,a);function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(v){var t=v.key,n=v.children;f.push(t),d(n)})}return d(e.children),f}function zt(a){if(a.parent){var i=Se(a.pos);return Number(i[i.length-1])===a.parent.children.length-1}return!1}function Yt(a){var i=Se(a.pos);return Number(i[i.length-1])===0}function _e(a,i,f,e,d,c,v,t,n,r){var o,s=a.clientX,u=a.clientY,p=a.target.getBoundingClientRect(),g=p.top,K=p.height,l=(r==="rtl"?-1:1)*(((d==null?void 0:d.x)||0)-s),y=(l-12)/e,m=n.filter(function(Z){var R;return(R=t[Z])===null||R===void 0||(R=R.children)===null||R===void 0?void 0:R.length}),N=H(t,f.props.eventKey);if(u<g+K/2){var k=v.findIndex(function(Z){return Z.key===N.key}),C=k<=0?0:k-1,D=v[C].key;N=H(t,D)}var T=N.key,E=N,b=N.key,P=0,O=0;if(!m.includes(T))for(var w=0;w<y&&zt(N);w+=1)N=N.parent,O+=1;var I=i.props.data,j=N.node,F=!0;return Yt(N)&&N.level===0&&u<g+K/2&&c({dragNode:I,dropNode:j,dropPosition:-1})&&N.key===f.props.eventKey?P=-1:(E.children||[]).length&&m.includes(b)?c({dragNode:I,dropNode:j,dropPosition:0})?P=0:F=!1:O===0?y>-1.5?c({dragNode:I,dropNode:j,dropPosition:1})?P=1:F=!1:c({dragNode:I,dropNode:j,dropPosition:0})?P=0:c({dragNode:I,dropNode:j,dropPosition:1})?P=1:F=!1:c({dragNode:I,dropNode:j,dropPosition:1})?P=1:F=!1,{dropPosition:P,dropLevelOffset:O,dropTargetKey:N.key,dropTargetPos:N.pos,dragOverNodeKey:b,dropContainerKey:P===0?null:((o=N.parent)===null||o===void 0?void 0:o.key)||null,dropAllowed:F}}function et(a,i){if(a){var f=i.multiple;return f?a.slice():a.length?[a[0]]:a}}var Xt=function(i){return i};function Jt(a,i){if(!a)return[];var f=i||{},e=f.processProps,d=e===void 0?Xt:e,c=Array.isArray(a)?a:[a];return c.map(function(v){var t=v.children,n=_objectWithoutProperties(v,Bt),r=Jt(t,i);return _jsx(TreeNode,_objectSpread(_objectSpread({},d(n)),{},{children:r}),n.key)})}function be(a){if(!a)return null;var i;if(Array.isArray(a))i={checkedKeys:a,halfCheckedKeys:void 0};else if(ke()(a)==="object")i={checkedKeys:a.checked||void 0,halfCheckedKeys:a.halfChecked||void 0};else return(0,X.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return i}function tt(a,i){var f=new Set;function e(d){if(!f.has(d)){var c=H(i,d);if(c){f.add(d);var v=c.parent,t=c.node;t.disabled||v&&e(v.key)}}}return(a||[]).forEach(function(d){e(d)}),q()(f)}function nt(a,i){var f=new Set;return a.forEach(function(e){i.has(e)||f.add(e)}),f}function Qt(a){var i=a||{},f=i.disabled,e=i.disableCheckbox,d=i.checkable;return!!(f||e)||d===!1}function qt(a,i,f,e){for(var d=new Set(a),c=new Set,v=0;v<=f;v+=1){var t=i.get(v)||new Set;t.forEach(function(s){var u=s.key,p=s.node,g=s.children,K=g===void 0?[]:g;d.has(u)&&!e(p)&&K.filter(function(l){return!e(l.node)}).forEach(function(l){d.add(l.key)})})}for(var n=new Set,r=f;r>=0;r-=1){var o=i.get(r)||new Set;o.forEach(function(s){var u=s.parent,p=s.node;if(!(e(p)||!s.parent||n.has(s.parent.key))){if(e(s.parent.node)){n.add(u.key);return}var g=!0,K=!1;(u.children||[]).filter(function(l){return!e(l.node)}).forEach(function(l){var y=l.key,m=d.has(y);g&&!m&&(g=!1),!K&&(m||c.has(y))&&(K=!0)}),g&&d.add(u.key),K&&c.add(u.key),n.add(u.key)}})}return{checkedKeys:Array.from(d),halfCheckedKeys:Array.from(nt(c,d))}}function _t(a,i,f,e,d){for(var c=new Set(a),v=new Set(i),t=0;t<=e;t+=1){var n=f.get(t)||new Set;n.forEach(function(u){var p=u.key,g=u.node,K=u.children,l=K===void 0?[]:K;!c.has(p)&&!v.has(p)&&!d(g)&&l.filter(function(y){return!d(y.node)}).forEach(function(y){c.delete(y.key)})})}v=new Set;for(var r=new Set,o=e;o>=0;o-=1){var s=f.get(o)||new Set;s.forEach(function(u){var p=u.parent,g=u.node;if(!(d(g)||!u.parent||r.has(u.parent.key))){if(d(u.parent.node)){r.add(p.key);return}var K=!0,l=!1;(p.children||[]).filter(function(y){return!d(y.node)}).forEach(function(y){var m=y.key,N=c.has(m);K&&!N&&(K=!1),!l&&(N||v.has(m))&&(l=!0)}),K||c.delete(p.key),l&&v.add(p.key),r.add(p.key)}})}return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(nt(v,c))}}function Pe(a,i,f,e){var d=[],c;e?c=e:c=Qt;var v=new Set(a.filter(function(o){var s=!!H(f,o);return s||d.push(o),s})),t=new Map,n=0;Object.keys(f).forEach(function(o){var s=f[o],u=s.level,p=t.get(u);p||(p=new Set,t.set(u,p)),p.add(s),n=Math.max(n,u)}),(0,X.ZP)(!d.length,"Tree missing follow keys: ".concat(d.slice(0,100).map(function(o){return"'".concat(o,"'")}).join(", ")));var r;return i===!0?r=qt(v,t,n,c):r=_t(v,i.halfCheckedKeys,t,n,c),r}var en=10,Te=function(a){je()(f,a);var i=Fe()(f);function f(){var e;$e()(this,f);for(var d=arguments.length,c=new Array(d),v=0;v<d;v++)c[v]=arguments[v];return e=i.call.apply(i,[this].concat(c)),h()(x()(e),"destroyed",!1),h()(x()(e),"delayedDragEnterLogic",void 0),h()(x()(e),"loadingRetryTimes",{}),h()(x()(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:ye()}),h()(x()(e),"dragStartMousePosition",null),h()(x()(e),"dragNode",void 0),h()(x()(e),"currentMouseOverDroppableNodeKey",null),h()(x()(e),"listRef",$.createRef()),h()(x()(e),"onNodeDragStart",function(t,n){var r=e.state,o=r.expandedKeys,s=r.keyEntities,u=e.props.onDragStart,p=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=Y(o,p);e.setState({draggingNodeKey:p,dragChildrenKeys:Vt(p,s),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),u==null||u({event:t,node:A(n.props)})}),h()(x()(e),"onNodeDragEnter",function(t,n){var r=e.state,o=r.expandedKeys,s=r.keyEntities,u=r.dragChildrenKeys,p=r.flattenNodes,g=r.indent,K=e.props,l=K.onDragEnter,y=K.onExpand,m=K.allowDrop,N=K.direction,k=n.props,C=k.pos,D=k.eventKey,T=x()(e),E=T.dragNode;if(e.currentMouseOverDroppableNodeKey!==D&&(e.currentMouseOverDroppableNodeKey=D),!E){e.resetDragState();return}var b=_e(t,E,n,g,e.dragStartMousePosition,m,p,s,o,N),P=b.dropPosition,O=b.dropLevelOffset,w=b.dropTargetKey,I=b.dropContainerKey,j=b.dropTargetPos,F=b.dropAllowed,Z=b.dragOverNodeKey;if(u.indexOf(w)!==-1||!F){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(R){clearTimeout(e.delayedDragEnterLogic[R])}),E.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[C]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var R=q()(o),V=H(s,n.props.eventKey);V&&(V.children||[]).length&&(R=J(o,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(R),y==null||y(R,{node:A(n.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),E.props.eventKey===w&&O===0){e.resetDragState();return}e.setState({dragOverNodeKey:Z,dropPosition:P,dropLevelOffset:O,dropTargetKey:w,dropContainerKey:I,dropTargetPos:j,dropAllowed:F}),l==null||l({event:t,node:A(n.props),expandedKeys:o})}),h()(x()(e),"onNodeDragOver",function(t,n){var r=e.state,o=r.dragChildrenKeys,s=r.flattenNodes,u=r.keyEntities,p=r.expandedKeys,g=r.indent,K=e.props,l=K.onDragOver,y=K.allowDrop,m=K.direction,N=x()(e),k=N.dragNode;if(k){var C=_e(t,k,n,g,e.dragStartMousePosition,y,s,u,p,m),D=C.dropPosition,T=C.dropLevelOffset,E=C.dropTargetKey,b=C.dropContainerKey,P=C.dropAllowed,O=C.dropTargetPos,w=C.dragOverNodeKey;o.indexOf(E)!==-1||!P||(k.props.eventKey===E&&T===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():D===e.state.dropPosition&&T===e.state.dropLevelOffset&&E===e.state.dropTargetKey&&b===e.state.dropContainerKey&&O===e.state.dropTargetPos&&P===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:D,dropLevelOffset:T,dropTargetKey:E,dropContainerKey:b,dropTargetPos:O,dropAllowed:P,dragOverNodeKey:w}),l==null||l({event:t,node:A(n.props)}))}}),h()(x()(e),"onNodeDragLeave",function(t,n){e.currentMouseOverDroppableNodeKey===n.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:A(n.props)})}),h()(x()(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),h()(x()(e),"onNodeDragEnd",function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:A(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),h()(x()(e),"onNodeDrop",function(t,n){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=e.state,u=s.dragChildrenKeys,p=s.dropPosition,g=s.dropTargetKey,K=s.dropTargetPos,l=s.dropAllowed;if(l){var y=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var m=L()(L()({},le(g,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===g,data:H(e.state.keyEntities,g).node}),N=u.indexOf(g)!==-1;(0,X.ZP)(!N,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var k=Se(K),C={event:t,node:A(m),dragNode:e.dragNode?A(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(u),dropToGap:p!==0,dropPosition:p+Number(k[k.length-1])};o||y==null||y(C),e.dragNode=null}}}),h()(x()(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),h()(x()(e),"triggerExpandActionExpand",function(t,n){var r=e.state,o=r.expandedKeys,s=r.flattenNodes,u=n.expanded,p=n.key,g=n.isLeaf;if(!(g||t.shiftKey||t.metaKey||t.ctrlKey)){var K=s.filter(function(y){return y.key===p})[0],l=A(L()(L()({},le(p,e.getTreeNodeRequiredProps())),{},{data:K.data}));e.setExpandedKeys(u?Y(o,p):J(o,p)),e.onNodeExpand(t,l)}}),h()(x()(e),"onNodeClick",function(t,n){var r=e.props,o=r.onClick,s=r.expandAction;s==="click"&&e.triggerExpandActionExpand(t,n),o==null||o(t,n)}),h()(x()(e),"onNodeDoubleClick",function(t,n){var r=e.props,o=r.onDoubleClick,s=r.expandAction;s==="doubleClick"&&e.triggerExpandActionExpand(t,n),o==null||o(t,n)}),h()(x()(e),"onNodeSelect",function(t,n){var r=e.state.selectedKeys,o=e.state,s=o.keyEntities,u=o.fieldNames,p=e.props,g=p.onSelect,K=p.multiple,l=n.selected,y=n[u.key],m=!l;m?K?r=J(r,y):r=[y]:r=Y(r,y);var N=r.map(function(k){var C=H(s,k);return C?C.node:null}).filter(function(k){return k});e.setUncontrolledState({selectedKeys:r}),g==null||g(r,{event:"select",selected:m,node:n,selectedNodes:N,nativeEvent:t.nativeEvent})}),h()(x()(e),"onNodeCheck",function(t,n,r){var o=e.state,s=o.keyEntities,u=o.checkedKeys,p=o.halfCheckedKeys,g=e.props,K=g.checkStrictly,l=g.onCheck,y=n.key,m,N={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(K){var k=r?J(u,y):Y(u,y),C=Y(p,y);m={checked:k,halfChecked:C},N.checkedNodes=k.map(function(O){return H(s,O)}).filter(function(O){return O}).map(function(O){return O.node}),e.setUncontrolledState({checkedKeys:k})}else{var D=Pe([].concat(q()(u),[y]),!0,s),T=D.checkedKeys,E=D.halfCheckedKeys;if(!r){var b=new Set(T);b.delete(y);var P=Pe(Array.from(b),{checked:!1,halfCheckedKeys:E},s);T=P.checkedKeys,E=P.halfCheckedKeys}m=T,N.checkedNodes=[],N.checkedNodesPositions=[],N.halfCheckedKeys=E,T.forEach(function(O){var w=H(s,O);if(w){var I=w.node,j=w.pos;N.checkedNodes.push(I),N.checkedNodesPositions.push({node:I,pos:j})}}),e.setUncontrolledState({checkedKeys:T},!1,{halfCheckedKeys:E})}l==null||l(m,N)}),h()(x()(e),"onNodeLoad",function(t){var n,r=t.key,o=e.state.keyEntities,s=H(o,r);if(!(s!=null&&(n=s.children)!==null&&n!==void 0&&n.length)){var u=new Promise(function(p,g){e.setState(function(K){var l=K.loadedKeys,y=l===void 0?[]:l,m=K.loadingKeys,N=m===void 0?[]:m,k=e.props,C=k.loadData,D=k.onLoad;if(!C||y.indexOf(r)!==-1||N.indexOf(r)!==-1)return null;var T=C(t);return T.then(function(){var E=e.state.loadedKeys,b=J(E,r);D==null||D(b,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:b}),e.setState(function(P){return{loadingKeys:Y(P.loadingKeys,r)}}),p()}).catch(function(E){if(e.setState(function(P){return{loadingKeys:Y(P.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=en){var b=e.state.loadedKeys;(0,X.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:J(b,r)}),p()}g(E)}),{loadingKeys:J(N,r)}})});return u.catch(function(){}),u}}),h()(x()(e),"onNodeMouseEnter",function(t,n){var r=e.props.onMouseEnter;r==null||r({event:t,node:n})}),h()(x()(e),"onNodeMouseLeave",function(t,n){var r=e.props.onMouseLeave;r==null||r({event:t,node:n})}),h()(x()(e),"onNodeContextMenu",function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))}),h()(x()(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t==null||t.apply(void 0,r)}),h()(x()(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t==null||t.apply(void 0,r)}),h()(x()(e),"getTreeNodeRequiredProps",function(){var t=e.state,n=t.expandedKeys,r=t.selectedKeys,o=t.loadedKeys,s=t.loadingKeys,u=t.checkedKeys,p=t.halfCheckedKeys,g=t.dragOverNodeKey,K=t.dropPosition,l=t.keyEntities;return{expandedKeys:n||[],selectedKeys:r||[],loadedKeys:o||[],loadingKeys:s||[],checkedKeys:u||[],halfCheckedKeys:p||[],dragOverNodeKey:g,dropPosition:K,keyEntities:l}}),h()(x()(e),"setExpandedKeys",function(t){var n=e.state,r=n.treeData,o=n.fieldNames,s=Ce(r,t,o);e.setUncontrolledState({expandedKeys:t,flattenNodes:s},!0)}),h()(x()(e),"onNodeExpand",function(t,n){var r=e.state.expandedKeys,o=e.state,s=o.listChanging,u=o.fieldNames,p=e.props,g=p.onExpand,K=p.loadData,l=n.expanded,y=n[u.key];if(!s){var m=r.indexOf(y),N=!l;if((0,X.ZP)(l&&m!==-1||!l&&m===-1,"Expand state not sync with index check"),N?r=J(r,y):r=Y(r,y),e.setExpandedKeys(r),g==null||g(r,{node:n,expanded:N,nativeEvent:t.nativeEvent}),N&&K){var k=e.onNodeLoad(n);k&&k.then(function(){var C=Ce(e.state.treeData,r,u);e.setUncontrolledState({flattenNodes:C})}).catch(function(){var C=e.state.expandedKeys,D=Y(C,y);e.setExpandedKeys(D)})}}}),h()(x()(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),h()(x()(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),h()(x()(e),"onActiveChange",function(t){var n=e.state.activeKey,r=e.props,o=r.onActiveChange,s=r.itemScrollOffset,u=s===void 0?0:s;n!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:u}),o==null||o(t))}),h()(x()(e),"getActiveItem",function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return n===null?null:r.find(function(o){var s=o.key;return s===n})||null}),h()(x()(e),"offsetActiveKey",function(t){var n=e.state,r=n.flattenNodes,o=n.activeKey,s=r.findIndex(function(g){var K=g.key;return K===o});s===-1&&t<0&&(s=r.length),s=(s+t+r.length)%r.length;var u=r[s];if(u){var p=u.key;e.onActiveChange(p)}else e.onActiveChange(null)}),h()(x()(e),"onKeyDown",function(t){var n=e.state,r=n.activeKey,o=n.expandedKeys,s=n.checkedKeys,u=n.fieldNames,p=e.props,g=p.onKeyDown,K=p.checkable,l=p.selectable;switch(t.which){case ne.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case ne.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var y=e.getActiveItem();if(y&&y.data){var m=e.getTreeNodeRequiredProps(),N=y.data.isLeaf===!1||!!(y.data[u.children]||[]).length,k=A(L()(L()({},le(r,m)),{},{data:y.data,active:!0}));switch(t.which){case ne.Z.LEFT:{N&&o.includes(r)?e.onNodeExpand({},k):y.parent&&e.onActiveChange(y.parent.key),t.preventDefault();break}case ne.Z.RIGHT:{N&&!o.includes(r)?e.onNodeExpand({},k):y.children&&y.children.length&&e.onActiveChange(y.children[0].key),t.preventDefault();break}case ne.Z.ENTER:case ne.Z.SPACE:{K&&!k.disabled&&k.checkable!==!1&&!k.disableCheckbox?e.onNodeCheck({},k,!s.includes(r)):!K&&l&&!k.disabled&&k.selectable!==!1&&e.onNodeSelect({},k);break}}}g==null||g(t)}),h()(x()(e),"setUncontrolledState",function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var o=!1,s=!0,u={};Object.keys(t).forEach(function(p){if(p in e.props){s=!1;return}o=!0,u[p]=t[p]}),o&&(!n||s)&&e.setState(L()(L()({},u),r))}}),h()(x()(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return Ae()(f,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props,c=d.activeKey,v=d.itemScrollOffset,t=v===void 0?0:v;c!==void 0&&c!==this.state.activeKey&&(this.setState({activeKey:c}),c!==null&&this.scrollTo({key:c,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d=this.state,c=d.focused,v=d.flattenNodes,t=d.keyEntities,n=d.draggingNodeKey,r=d.activeKey,o=d.dropLevelOffset,s=d.dropContainerKey,u=d.dropTargetKey,p=d.dropPosition,g=d.dragOverNodeKey,K=d.indent,l=this.props,y=l.prefixCls,m=l.className,N=l.style,k=l.showLine,C=l.focusable,D=l.tabIndex,T=D===void 0?0:D,E=l.selectable,b=l.showIcon,P=l.icon,O=l.switcherIcon,w=l.draggable,I=l.checkable,j=l.checkStrictly,F=l.disabled,Z=l.motion,R=l.loadData,V=l.filterTreeNode,Q=l.height,ce=l.itemHeight,ue=l.virtual,W=l.titleRender,te=l.dropIndicatorRender,z=l.onContextMenu,re=l.onScroll,Oe=l.direction,xe=l.rootClassName,Le=l.rootStyle,ae=(0,Ze.Z)(this.props,{aria:!0,data:!0}),oe;return w&&(ke()(w)==="object"?oe=w:typeof w=="function"?oe={nodeDraggable:w}:oe={}),(0,M.jsx)(me.Provider,{value:{prefixCls:y,selectable:E,showIcon:b,icon:P,switcherIcon:O,draggable:oe,draggingNodeKey:n,checkable:I,checkStrictly:j,disabled:F,keyEntities:t,dropLevelOffset:o,dropContainerKey:s,dropTargetKey:u,dropPosition:p,dragOverNodeKey:g,indent:K,direction:Oe,dropIndicatorRender:te,loadData:R,filterTreeNode:V,titleRender:W,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop},children:(0,M.jsx)("div",{role:"tree",className:B()(y,m,xe,h()(h()(h()({},"".concat(y,"-show-line"),k),"".concat(y,"-focused"),c),"".concat(y,"-active-focused"),r!==null)),style:Le,children:(0,M.jsx)(Wt,L()(L()({ref:this.listRef,prefixCls:y,style:N,data:v,disabled:F,selectable:E,checkable:!!I,motion:Z,dragging:n!==null,height:Q,itemHeight:ce,virtual:ue,focusable:C,focused:c,tabIndex:T,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:z,onScroll:re},this.getTreeNodeRequiredProps()),ae))})})}}],[{key:"getDerivedStateFromProps",value:function(d,c){var v=c.prevProps,t={prevProps:d};function n(T){return!v&&T in d||v&&v[T]!==d[T]}var r,o=c.fieldNames;if(n("fieldNames")&&(o=ye(d.fieldNames),t.fieldNames=o),n("treeData")?r=d.treeData:n("children")&&((0,X.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=Ot(d.children)),r){t.treeData=r;var s=Mt(r,{fieldNames:o});t.keyEntities=L()(h()({},ee,Ye),s.keyEntities)}var u=t.keyEntities||c.keyEntities;if(n("expandedKeys")||v&&n("autoExpandParent"))t.expandedKeys=d.autoExpandParent||!v&&d.defaultExpandParent?tt(d.expandedKeys,u):d.expandedKeys;else if(!v&&d.defaultExpandAll){var p=L()({},u);delete p[ee];var g=[];Object.keys(p).forEach(function(T){var E=p[T];E.children&&E.children.length&&g.push(E.key)}),t.expandedKeys=g}else!v&&d.defaultExpandedKeys&&(t.expandedKeys=d.autoExpandParent||d.defaultExpandParent?tt(d.defaultExpandedKeys,u):d.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var K=Ce(r||c.treeData,t.expandedKeys||c.expandedKeys,o);t.flattenNodes=K}if(d.selectable&&(n("selectedKeys")?t.selectedKeys=et(d.selectedKeys,d):!v&&d.defaultSelectedKeys&&(t.selectedKeys=et(d.defaultSelectedKeys,d))),d.checkable){var l;if(n("checkedKeys")?l=be(d.checkedKeys)||{}:!v&&d.defaultCheckedKeys?l=be(d.defaultCheckedKeys)||{}:r&&(l=be(d.checkedKeys)||{checkedKeys:c.checkedKeys,halfCheckedKeys:c.halfCheckedKeys}),l){var y=l,m=y.checkedKeys,N=m===void 0?[]:m,k=y.halfCheckedKeys,C=k===void 0?[]:k;if(!d.checkStrictly){var D=Pe(N,!0,u);N=D.checkedKeys,C=D.halfCheckedKeys}t.checkedKeys=N,t.halfCheckedKeys=C}}return n("loadedKeys")&&(t.loadedKeys=d.loadedKeys),t}}]),f}($.Component);h()(Te,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Kt,allowDrop:function(){return!0},expandAction:!1}),h()(Te,"TreeNode",Ke);var tn=Te,nn=tn}}]);
