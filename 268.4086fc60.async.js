"use strict";(self.webpackChunkrc_tree=self.webpackChunkrc_tree||[]).push([[268],{48092:function(ln,it,S){S.d(it,{O:function(){return xe},Z:function(){return nn}});var st=S(31468),me=S.n(st),lt=S(82242),O=S.n(lt),ct=S(37205),ee=S.n(ct),ut=S(82100),$e=S.n(ut),ft=S(29186),Ae=S.n(ft),vt=S(13720),x=S.n(vt),pt=S(80619),je=S.n(pt),ht=S(47074),Fe=S.n(ht),gt=S(85573),h=S.n(gt),yt=S(92310),B=S.n(yt),ae=S(76507),Ze=S(53863),J=S(14097),$=S(71062),Ce=$.createContext(null),L=S(99678);function Kt(a){var i=a.dropPosition,f=a.dropLevelOffset,e=a.indent,d={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(i){case-1:d.top=0,d.left=-f*e;break;case 1:d.bottom=0,d.left=-f*e;break;case 0:d.bottom=0,d.left=e;break}return(0,L.jsx)("div",{style:d})}var xt=S(70236),He=S.n(xt),Nt=S(79800),te=S.n(Nt),kt=S(39647),ge=S.n(kt),ye=S(826),mt=S(34872),Ct=S(44516),Et=function(i){for(var f=i.prefixCls,e=i.level,d=i.isStart,l=i.isEnd,v="".concat(f,"-indent-unit"),t=[],n=0;n<e;n+=1)t.push((0,L.jsx)("span",{className:B()(v,h()(h()({},"".concat(v,"-start"),d[n]),"".concat(v,"-end"),l[n]))},n));return(0,L.jsx)("span",{"aria-hidden":"true",className:"".concat(f,"-indent"),children:t})},Dt=$.memo(Et);function H(a,i){return a[i]}var St=S(90986),bt=S(81304),Pt=["children"];function Ue(a,i){return"".concat(a,"-").concat(i)}function Tt(a){return a&&a.type&&a.type.isTreeNode}function le(a,i){return a!=null?a:i}function Ke(a){var i=a||{},f=i.title,e=i._title,d=i.key,l=i.children,v=f||"title";return{title:v,_title:e||[v],key:d||"key",children:l||"children"}}function cn(a,i){var f=new Map;function e(d){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(d||[]).forEach(function(v){var t=v[i.key],n=v[i.children];warning(t!=null,"Tree node must have a certain key: [".concat(l).concat(t,"]"));var r=String(t);warning(!f.has(r)||t===null||t===void 0,"Same 'key' exist in the Tree: ".concat(r)),f.set(r,!0),e(n,"".concat(l).concat(r," > "))})}e(a)}function Ot(a){function i(f){var e=(0,St.Z)(f);return e.map(function(d){if(!Tt(d))return(0,J.ZP)(!d,"Tree/TreeNode can only accept TreeNode as children."),null;var l=d.key,v=d.props,t=v.children,n=ge()(v,Pt),r=O()({key:l},n),o=i(t);return o.length&&(r.children=o),r}).filter(function(d){return d})}return i(a)}function Ee(a,i,f){var e=Ke(f),d=e._title,l=e.key,v=e.children,t=new Set(i===!0?[]:i),n=[];function r(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o.map(function(c,p){for(var g=Ue(s?s.pos:"0",p),y=le(c[l],g),u,K=0;K<d.length;K+=1){var m=d[K];if(c[m]!==void 0){u=c[m];break}}var N=Object.assign((0,bt.Z)(c,[].concat(ee()(d),[l,v])),{title:u,key:y,parent:s,pos:g,children:null,data:c,isStart:[].concat(ee()(s?s.isStart:[]),[p===0]),isEnd:[].concat(ee()(s?s.isEnd:[]),[p===o.length-1])});return n.push(N),i===!0||t.has(y)?N.children=r(c[v]||[],N):N.children=[],N})}return r(a),n}function Lt(a,i,f){var e={};me()(f)==="object"?e=f:e={externalGetKey:f},e=e||{};var d=e,l=d.childrenPropName,v=d.externalGetKey,t=d.fieldNames,n=Ke(t),r=n.key,o=n.children,s=l||o,c;v?typeof v=="string"?c=function(y){return y[v]}:typeof v=="function"&&(c=function(y){return v(y)}):c=function(y,u){return le(y[r],u)};function p(g,y,u,K){var m=g?g[s]:a,N=g?Ue(u.pos,y):"0",k=g?[].concat(ee()(K),[g]):[];if(g){var C=c(g,N),E={node:g,index:y,pos:N,key:C,parentPos:u.node?u.pos:null,level:u.level+1,nodes:k};i(E)}m&&m.forEach(function(M,D){p(M,D,{node:g,pos:N,level:u?u.level+1:-1},k)})}p(null)}function Mt(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=i.initWrapper,e=i.processEntity,d=i.onProcessFinished,l=i.externalGetKey,v=i.childrenPropName,t=i.fieldNames,n=arguments.length>2?arguments[2]:void 0,r=l||n,o={},s={},c={posEntities:o,keyEntities:s};return f&&(c=f(c)||c),Lt(a,function(p){var g=p.node,y=p.index,u=p.pos,K=p.key,m=p.parentPos,N=p.level,k=p.nodes,C={node:g,nodes:k,index:y,key:K,pos:u,level:N},E=le(K,u);o[u]=C,s[E]=C,C.parent=o[m],C.parent&&(C.parent.children=C.parent.children||[],C.parent.children.push(C)),e&&e(C,c)},{externalGetKey:r,childrenPropName:v,fieldNames:t}),d&&d(c),c}function ce(a,i){var f=i.expandedKeys,e=i.selectedKeys,d=i.loadedKeys,l=i.loadingKeys,v=i.checkedKeys,t=i.halfCheckedKeys,n=i.dragOverNodeKey,r=i.dropPosition,o=i.keyEntities,s=H(o,a),c={eventKey:a,expanded:f.indexOf(a)!==-1,selected:e.indexOf(a)!==-1,loaded:d.indexOf(a)!==-1,loading:l.indexOf(a)!==-1,checked:v.indexOf(a)!==-1,halfChecked:t.indexOf(a)!==-1,pos:String(s?s.pos:""),dragOver:n===a&&r===0,dragOverGapTop:n===a&&r===-1,dragOverGapBottom:n===a&&r===1};return c}function A(a){var i=a.data,f=a.expanded,e=a.selected,d=a.checked,l=a.loaded,v=a.loading,t=a.halfChecked,n=a.dragOver,r=a.dragOverGapTop,o=a.dragOverGapBottom,s=a.pos,c=a.active,p=a.eventKey,g=O()(O()({},i),{},{expanded:f,selected:e,checked:d,loaded:l,loading:v,halfChecked:t,dragOver:n,dragOverGapTop:r,dragOverGapBottom:o,pos:s,active:c,key:p});return"props"in g||Object.defineProperty(g,"props",{get:function(){return(0,J.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),a}}),g}var wt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Ge="open",We="close",It="---",Rt=function(a){je()(f,a);var i=Fe()(f);function f(){var e;$e()(this,f);for(var d=arguments.length,l=new Array(d),v=0;v<d;v++)l[v]=arguments[v];return e=i.call.apply(i,[this].concat(l)),h()(x()(e),"state",{dragNodeHighlight:!1}),h()(x()(e),"selectHandle",void 0),h()(x()(e),"cacheIndent",void 0),h()(x()(e),"onSelectorClick",function(t){var n=e.props.context.onNodeClick;n(t,A(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)}),h()(x()(e),"onSelectorDoubleClick",function(t){var n=e.props.context.onNodeDoubleClick;n(t,A(e.props))}),h()(x()(e),"onSelect",function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;n(t,A(e.props))}}),h()(x()(e),"onCheck",function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,o=n.checked,s=e.props.context.onNodeCheck;if(!(!e.isCheckable()||r)){var c=!o;s(t,A(e.props),c)}}}),h()(x()(e),"onMouseEnter",function(t){var n=e.props.context.onNodeMouseEnter;n(t,A(e.props))}),h()(x()(e),"onMouseLeave",function(t){var n=e.props.context.onNodeMouseLeave;n(t,A(e.props))}),h()(x()(e),"onContextMenu",function(t){var n=e.props.context.onNodeContextMenu;n(t,A(e.props))}),h()(x()(e),"onDragStart",function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,x()(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}}),h()(x()(e),"onDragEnter",function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,x()(e))}),h()(x()(e),"onDragOver",function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,x()(e))}),h()(x()(e),"onDragLeave",function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,x()(e))}),h()(x()(e),"onDragEnd",function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,x()(e))}),h()(x()(e),"onDrop",function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,x()(e))}),h()(x()(e),"onExpand",function(t){var n=e.props,r=n.loading,o=n.context.onNodeExpand;r||o(t,A(e.props))}),h()(x()(e),"setSelectHandle",function(t){e.selectHandle=t}),h()(x()(e),"getNodeState",function(){var t=e.props.expanded;return e.isLeaf()?null:t?Ge:We}),h()(x()(e),"hasChildren",function(){var t=e.props.eventKey,n=e.props.context.keyEntities,r=H(n,t)||{},o=r.children;return!!(o||[]).length}),h()(x()(e),"isLeaf",function(){var t=e.props,n=t.isLeaf,r=t.loaded,o=e.props.context.loadData,s=e.hasChildren();return n===!1?!1:n||!o&&!s||o&&r&&!s}),h()(x()(e),"isDisabled",function(){var t=e.props.disabled,n=e.props.context.disabled;return!!(n||t)}),h()(x()(e),"isCheckable",function(){var t=e.props.checkable,n=e.props.context.checkable;return!n||t===!1?!1:n}),h()(x()(e),"syncLoadData",function(t){var n=t.expanded,r=t.loading,o=t.loaded,s=e.props.context,c=s.loadData,p=s.onNodeLoad;r||c&&n&&!e.isLeaf()&&!o&&p(A(e.props))}),h()(x()(e),"isDraggable",function(){var t=e.props,n=t.data,r=t.context.draggable;return!!(r&&(!r.nodeDraggable||r.nodeDraggable(n)))}),h()(x()(e),"renderDragHandler",function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return n!=null&&n.icon?(0,L.jsx)("span",{className:"".concat(r,"-draggable-icon"),children:n.icon}):null}),h()(x()(e),"renderSwitcherIconDom",function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,o=n||r;return typeof o=="function"?o(O()(O()({},e.props),{},{isLeaf:t})):o}),h()(x()(e),"renderSwitcher",function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return r!==!1?(0,L.jsx)("span",{className:B()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop")),children:r}):null}var o=B()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?Ge:We)),s=e.renderSwitcherIconDom(!1);return s!==!1?(0,L.jsx)("span",{onClick:e.onExpand,className:o,children:s}):null}),h()(x()(e),"renderCheckbox",function(){var t=e.props,n=t.checked,r=t.halfChecked,o=t.disableCheckbox,s=e.props.context.prefixCls,c=e.isDisabled(),p=e.isCheckable();if(!p)return null;var g=typeof p!="boolean"?p:null;return(0,L.jsx)("span",{className:B()("".concat(s,"-checkbox"),n&&"".concat(s,"-checkbox-checked"),!n&&r&&"".concat(s,"-checkbox-indeterminate"),(c||o)&&"".concat(s,"-checkbox-disabled")),onClick:e.onCheck,children:g})}),h()(x()(e),"renderIcon",function(){var t=e.props.loading,n=e.props.context.prefixCls;return(0,L.jsx)("span",{className:B()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})}),h()(x()(e),"renderSelector",function(){var t=e.state.dragNodeHighlight,n=e.props,r=n.title,o=r===void 0?It:r,s=n.selected,c=n.icon,p=n.loading,g=n.data,y=e.props.context,u=y.prefixCls,K=y.showIcon,m=y.icon,N=y.loadData,k=y.titleRender,C=e.isDisabled(),E="".concat(u,"-node-content-wrapper"),M;if(K){var D=c||m;M=D?(0,L.jsx)("span",{className:B()("".concat(u,"-iconEle"),"".concat(u,"-icon__customize")),children:typeof D=="function"?D(e.props):D}):e.renderIcon()}else N&&p&&(M=e.renderIcon());var b;typeof o=="function"?b=o(g):k?b=k(g):b=o;var P=(0,L.jsx)("span",{className:"".concat(u,"-title"),children:b});return(0,L.jsxs)("span",{ref:e.setSelectHandle,title:typeof o=="string"?o:"",className:B()("".concat(E),"".concat(E,"-").concat(e.getNodeState()||"normal"),!C&&(s||t)&&"".concat(u,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick,children:[M,P,e.renderDropIndicator()]})}),h()(x()(e),"renderDropIndicator",function(){var t=e.props,n=t.disabled,r=t.eventKey,o=e.props.context,s=o.draggable,c=o.dropLevelOffset,p=o.dropPosition,g=o.prefixCls,y=o.indent,u=o.dropIndicatorRender,K=o.dragOverNodeKey,m=o.direction,N=!!s,k=!n&&N&&K===r,C=y!=null?y:e.cacheIndent;return e.cacheIndent=y,k?u({dropPosition:p,dropLevelOffset:c,indent:C,prefixCls:g,direction:m}):null}),e}return Ae()(f,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var d=this.props.selectable,l=this.props.context.selectable;return typeof d=="boolean"?d:l}},{key:"render",value:function(){var d,l=this.props,v=l.eventKey,t=l.className,n=l.style,r=l.dragOver,o=l.dragOverGapTop,s=l.dragOverGapBottom,c=l.isLeaf,p=l.isStart,g=l.isEnd,y=l.expanded,u=l.selected,K=l.checked,m=l.halfChecked,N=l.loading,k=l.domRef,C=l.active,E=l.data,M=l.onMouseMove,D=l.selectable,b=ge()(l,wt),P=this.props.context,T=P.prefixCls,w=P.filterTreeNode,I=P.keyEntities,j=P.dropContainerKey,F=P.dropTargetKey,Z=P.draggingNodeKey,R=this.isDisabled(),V=(0,Ze.Z)(b,{aria:!0,data:!0}),q=H(I,v)||{},ue=q.level,fe=g[g.length-1],W=this.isDraggable(),re=!R&&W,z=Z===v,oe=D!==void 0?{"aria-selected":!!D}:void 0;return(0,L.jsxs)("div",O()(O()(O()({ref:k,className:B()(t,"".concat(T,"-treenode"),(d={},h()(h()(h()(h()(h()(h()(h()(h()(h()(h()(d,"".concat(T,"-treenode-disabled"),R),"".concat(T,"-treenode-switcher-").concat(y?"open":"close"),!c),"".concat(T,"-treenode-checkbox-checked"),K),"".concat(T,"-treenode-checkbox-indeterminate"),m),"".concat(T,"-treenode-selected"),u),"".concat(T,"-treenode-loading"),N),"".concat(T,"-treenode-active"),C),"".concat(T,"-treenode-leaf-last"),fe),"".concat(T,"-treenode-draggable"),W),"dragging",z),h()(h()(h()(h()(h()(h()(d,"drop-target",F===v),"drop-container",j===v),"drag-over",!R&&r),"drag-over-gap-top",!R&&o),"drag-over-gap-bottom",!R&&s),"filter-node",w&&w(A(this.props))))),style:n,draggable:re,"aria-grabbed":z,onDragStart:re?this.onDragStart:void 0,onDragEnter:W?this.onDragEnter:void 0,onDragOver:W?this.onDragOver:void 0,onDragLeave:W?this.onDragLeave:void 0,onDrop:W?this.onDrop:void 0,onDragEnd:W?this.onDragEnd:void 0,onMouseMove:M},oe),V),{},{children:[(0,L.jsx)(Dt,{prefixCls:T,level:ue,isStart:p,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector()]}))}}]),f}($.Component),De=function(i){return(0,L.jsx)(Ce.Consumer,{children:function(e){return(0,L.jsx)(Rt,O()(O()({},i),{},{context:e}))}})};De.displayName="TreeNode",De.isTreeNode=1;var xe=De;function $t(a,i){var f=$.useState(!1),e=te()(f,2),d=e[0],l=e[1];(0,ye.ZP)(function(){if(d)return a(),function(){i()}},[d]),(0,ye.ZP)(function(){return l(!0),function(){l(!1)}},[])}var At=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Be=function(i,f){var e=i.className,d=i.style,l=i.motion,v=i.motionNodes,t=i.motionType,n=i.onMotionStart,r=i.onMotionEnd,o=i.active,s=i.treeNodeRequiredProps,c=ge()(i,At),p=$.useState(!0),g=te()(p,2),y=g[0],u=g[1],K=$.useContext(Ce),m=K.prefixCls,N=v&&t!=="hide";(0,ye.ZP)(function(){v&&N!==y&&u(N)},[v]);var k=function(){v&&n()},C=$.useRef(!1),E=function(){v&&!C.current&&(C.current=!0,r())};$t(k,E);var M=function(b){N===b&&E()};return v?(0,L.jsx)(Ct.ZP,O()(O()({ref:f,visible:y},l),{},{motionAppear:t==="show",onVisibleChanged:M,children:function(b,P){var T=b.className,w=b.style;return(0,L.jsx)("div",{ref:P,className:B()("".concat(m,"-treenode-motion"),T),style:w,children:v.map(function(I){var j=Object.assign({},(He()(I.data),I.data)),F=I.title,Z=I.key,R=I.isStart,V=I.isEnd;delete j.children;var q=ce(Z,s);return(0,$.createElement)(xe,O()(O()(O()({},j),q),{},{title:F,active:o,data:I.data,key:Z,isStart:R,isEnd:V}))})})}})):(0,L.jsx)(xe,O()(O()({domRef:f,className:e,style:d},c),{},{active:o}))};Be.displayName="MotionTreeNode";var jt=$.forwardRef(Be),Ft=jt;function Zt(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=a.length,e=i.length;if(Math.abs(f-e)!==1)return{add:!1,key:null};function d(l,v){var t=new Map;l.forEach(function(r){t.set(r,!0)});var n=v.filter(function(r){return!t.has(r)});return n.length===1?n[0]:null}return f<e?{add:!0,key:d(a,i)}:{add:!1,key:d(i,a)}}function Ve(a,i,f){var e=a.findIndex(function(t){return t.key===f}),d=a[e+1],l=i.findIndex(function(t){return t.key===f});if(d){var v=i.findIndex(function(t){return t.key===d.key});return i.slice(l+1,v)}return i.slice(l+1)}var Ht=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],ze={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ut=function(){},ne="RC_TREE_MOTION_".concat(Math.random()),Se={key:ne},Ye={key:ne,level:0,index:0,pos:"0",node:Se,nodes:[Se]},Xe={parent:null,children:[],pos:Ye.pos,data:Se,title:null,key:ne,isStart:[],isEnd:[]};function Je(a,i,f,e){return i===!1||!f?a:a.slice(0,Math.ceil(f/e)+1)}function Qe(a){var i=a.key,f=a.pos;return le(i,f)}function Gt(a){for(var i=String(a.data.key),f=a;f.parent;)f=f.parent,i="".concat(f.data.key," > ").concat(i);return i}var qe=$.forwardRef(function(a,i){var f=a.prefixCls,e=a.data,d=a.selectable,l=a.checkable,v=a.expandedKeys,t=a.selectedKeys,n=a.checkedKeys,r=a.loadedKeys,o=a.loadingKeys,s=a.halfCheckedKeys,c=a.keyEntities,p=a.disabled,g=a.dragging,y=a.dragOverNodeKey,u=a.dropPosition,K=a.motion,m=a.height,N=a.itemHeight,k=a.virtual,C=a.focusable,E=a.activeItem,M=a.focused,D=a.tabIndex,b=a.onKeyDown,P=a.onFocus,T=a.onBlur,w=a.onActiveChange,I=a.onListChangeStart,j=a.onListChangeEnd,F=ge()(a,Ht),Z=$.useRef(null),R=$.useRef(null);$.useImperativeHandle(i,function(){return{scrollTo:function(U){Z.current.scrollTo(U)},getIndentWidth:function(){return R.current.offsetWidth}}});var V=$.useState(v),q=te()(V,2),ue=q[0],fe=q[1],W=$.useState(e),re=te()(W,2),z=re[0],oe=re[1],Le=$.useState(e),Ne=te()(Le,2),Me=Ne[0],de=Ne[1],ie=$.useState([]),rt=te()(ie,2),rn=rt[0],we=rt[1],an=$.useState(null),at=te()(an,2),on=at[0],Ie=at[1],ot=$.useRef(e);ot.current=e;function Re(){var G=ot.current;oe(G),de(G),we([]),Ie(null),j()}(0,ye.ZP)(function(){fe(v);var G=Zt(ue,v);if(G.key!==null)if(G.add){var U=z.findIndex(function(pe){var he=pe.key;return he===G.key}),se=Je(Ve(z,e,G.key),k,m,N),_=z.slice();_.splice(U+1,0,Xe),de(_),we(se),Ie("show")}else{var ve=e.findIndex(function(pe){var he=pe.key;return he===G.key}),X=Je(Ve(e,z,G.key),k,m,N),ke=e.slice();ke.splice(ve+1,0,Xe),de(ke),we(X),Ie("hide")}else z!==e&&(oe(e),de(e))},[v,e]),$.useEffect(function(){g||Re()},[g]);var dn=K?Me:e,dt={expandedKeys:v,selectedKeys:t,loadedKeys:r,loadingKeys:o,checkedKeys:n,halfCheckedKeys:s,dragOverNodeKey:y,dropPosition:u,keyEntities:c};return(0,L.jsxs)(L.Fragment,{children:[M&&E&&(0,L.jsx)("span",{style:ze,"aria-live":"assertive",children:Gt(E)}),(0,L.jsx)("div",{children:(0,L.jsx)("input",{style:ze,disabled:C===!1||p,tabIndex:C!==!1?D:null,onKeyDown:b,onFocus:P,onBlur:T,value:"",onChange:Ut,"aria-label":"for screen reader"})}),(0,L.jsx)("div",{className:"".concat(f,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0},children:(0,L.jsx)("div",{className:"".concat(f,"-indent"),children:(0,L.jsx)("div",{ref:R,className:"".concat(f,"-indent-unit")})})}),(0,L.jsx)(mt.Z,O()(O()({},F),{},{data:dn,itemKey:Qe,height:m,fullHeight:!1,virtual:k,itemHeight:N,prefixCls:"".concat(f,"-list"),ref:Z,onVisibleChange:function(U,se){var _=new Set(U),ve=se.filter(function(X){return!_.has(X)});ve.some(function(X){return Qe(X)===ne})&&Re()},children:function(U){var se=U.pos,_=Object.assign({},(He()(U.data),U.data)),ve=U.title,X=U.key,ke=U.isStart,pe=U.isEnd,he=le(X,se);delete _.key,delete _.children;var sn=ce(he,dt);return(0,L.jsx)(Ft,O()(O()(O()({},_),sn),{},{title:ve,active:!!E&&X===E.key,pos:se,data:U.data,isStart:ke,isEnd:pe,motion:K,motionNodes:X===ne?rn:null,motionType:on,onMotionStart:I,onMotionEnd:Re,treeNodeRequiredProps:dt,onMouseMove:function(){w(null)}}))}}))]})});qe.displayName="NodeList";var Wt=qe,Bt=null;function Y(a,i){if(!a)return[];var f=a.slice(),e=f.indexOf(i);return e>=0&&f.splice(e,1),f}function Q(a,i){var f=(a||[]).slice();return f.indexOf(i)===-1&&f.push(i),f}function be(a){return a.split("-")}function Vt(a,i){var f=[],e=H(i,a);function d(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(v){var t=v.key,n=v.children;f.push(t),d(n)})}return d(e.children),f}function zt(a){if(a.parent){var i=be(a.pos);return Number(i[i.length-1])===a.parent.children.length-1}return!1}function Yt(a){var i=be(a.pos);return Number(i[i.length-1])===0}function _e(a,i,f,e,d,l,v,t,n,r){var o,s=a.clientX,c=a.clientY,p=a.target.getBoundingClientRect(),g=p.top,y=p.height,u=(r==="rtl"?-1:1)*(((d==null?void 0:d.x)||0)-s),K=(u-12)/e,m=n.filter(function(Z){var R;return(R=t[Z])===null||R===void 0||(R=R.children)===null||R===void 0?void 0:R.length}),N=H(t,f.props.eventKey);if(c<g+y/2){var k=v.findIndex(function(Z){return Z.key===N.key}),C=k<=0?0:k-1,E=v[C].key;N=H(t,E)}var M=N.key,D=N,b=N.key,P=0,T=0;if(!m.includes(M))for(var w=0;w<K&&zt(N);w+=1)N=N.parent,T+=1;var I=i.props.data,j=N.node,F=!0;return Yt(N)&&N.level===0&&c<g+y/2&&l({dragNode:I,dropNode:j,dropPosition:-1})&&N.key===f.props.eventKey?P=-1:(D.children||[]).length&&m.includes(b)?l({dragNode:I,dropNode:j,dropPosition:0})?P=0:F=!1:T===0?K>-1.5?l({dragNode:I,dropNode:j,dropPosition:1})?P=1:F=!1:l({dragNode:I,dropNode:j,dropPosition:0})?P=0:l({dragNode:I,dropNode:j,dropPosition:1})?P=1:F=!1:l({dragNode:I,dropNode:j,dropPosition:1})?P=1:F=!1,{dropPosition:P,dropLevelOffset:T,dropTargetKey:N.key,dropTargetPos:N.pos,dragOverNodeKey:b,dropContainerKey:P===0?null:((o=N.parent)===null||o===void 0?void 0:o.key)||null,dropAllowed:F}}function et(a,i){if(a){var f=i.multiple;return f?a.slice():a.length?[a[0]]:a}}var Xt=function(i){return i};function Jt(a,i){if(!a)return[];var f=i||{},e=f.processProps,d=e===void 0?Xt:e,l=Array.isArray(a)?a:[a];return l.map(function(v){var t=v.children,n=_objectWithoutProperties(v,Bt),r=Jt(t,i);return _jsx(TreeNode,_objectSpread(_objectSpread({},d(n)),{},{children:r}),n.key)})}function Pe(a){if(!a)return null;var i;if(Array.isArray(a))i={checkedKeys:a,halfCheckedKeys:void 0};else if(me()(a)==="object")i={checkedKeys:a.checked||void 0,halfCheckedKeys:a.halfChecked||void 0};else return(0,J.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return i}function tt(a,i){var f=new Set;function e(d){if(!f.has(d)){var l=H(i,d);if(l){f.add(d);var v=l.parent,t=l.node;t.disabled||v&&e(v.key)}}}return(a||[]).forEach(function(d){e(d)}),ee()(f)}function nt(a,i){var f=new Set;return a.forEach(function(e){i.has(e)||f.add(e)}),f}function Qt(a){var i=a||{},f=i.disabled,e=i.disableCheckbox,d=i.checkable;return!!(f||e)||d===!1}function qt(a,i,f,e){for(var d=new Set(a),l=new Set,v=0;v<=f;v+=1){var t=i.get(v)||new Set;t.forEach(function(s){var c=s.key,p=s.node,g=s.children,y=g===void 0?[]:g;d.has(c)&&!e(p)&&y.filter(function(u){return!e(u.node)}).forEach(function(u){d.add(u.key)})})}for(var n=new Set,r=f;r>=0;r-=1){var o=i.get(r)||new Set;o.forEach(function(s){var c=s.parent,p=s.node;if(!(e(p)||!s.parent||n.has(s.parent.key))){if(e(s.parent.node)){n.add(c.key);return}var g=!0,y=!1;(c.children||[]).filter(function(u){return!e(u.node)}).forEach(function(u){var K=u.key,m=d.has(K);g&&!m&&(g=!1),!y&&(m||l.has(K))&&(y=!0)}),g&&d.add(c.key),y&&l.add(c.key),n.add(c.key)}})}return{checkedKeys:Array.from(d),halfCheckedKeys:Array.from(nt(l,d))}}function _t(a,i,f,e,d){for(var l=new Set(a),v=new Set(i),t=0;t<=e;t+=1){var n=f.get(t)||new Set;n.forEach(function(c){var p=c.key,g=c.node,y=c.children,u=y===void 0?[]:y;!l.has(p)&&!v.has(p)&&!d(g)&&u.filter(function(K){return!d(K.node)}).forEach(function(K){l.delete(K.key)})})}v=new Set;for(var r=new Set,o=e;o>=0;o-=1){var s=f.get(o)||new Set;s.forEach(function(c){var p=c.parent,g=c.node;if(!(d(g)||!c.parent||r.has(c.parent.key))){if(d(c.parent.node)){r.add(p.key);return}var y=!0,u=!1;(p.children||[]).filter(function(K){return!d(K.node)}).forEach(function(K){var m=K.key,N=l.has(m);y&&!N&&(y=!1),!u&&(N||v.has(m))&&(u=!0)}),y||l.delete(p.key),u&&v.add(p.key),r.add(p.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(nt(v,l))}}function Te(a,i,f,e){var d=[],l;e?l=e:l=Qt;var v=new Set(a.filter(function(o){var s=!!H(f,o);return s||d.push(o),s})),t=new Map,n=0;Object.keys(f).forEach(function(o){var s=f[o],c=s.level,p=t.get(c);p||(p=new Set,t.set(c,p)),p.add(s),n=Math.max(n,c)}),(0,J.ZP)(!d.length,"Tree missing follow keys: ".concat(d.slice(0,100).map(function(o){return"'".concat(o,"'")}).join(", ")));var r;return i===!0?r=qt(v,t,n,l):r=_t(v,i.halfCheckedKeys,t,n,l),r}var en=10,Oe=function(a){je()(f,a);var i=Fe()(f);function f(){var e;$e()(this,f);for(var d=arguments.length,l=new Array(d),v=0;v<d;v++)l[v]=arguments[v];return e=i.call.apply(i,[this].concat(l)),h()(x()(e),"destroyed",!1),h()(x()(e),"delayedDragEnterLogic",void 0),h()(x()(e),"loadingRetryTimes",{}),h()(x()(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Ke()}),h()(x()(e),"dragStartMousePosition",null),h()(x()(e),"dragNode",void 0),h()(x()(e),"currentMouseOverDroppableNodeKey",null),h()(x()(e),"listRef",$.createRef()),h()(x()(e),"onNodeDragStart",function(t,n){var r=e.state,o=r.expandedKeys,s=r.keyEntities,c=e.props.onDragStart,p=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=Y(o,p);e.setState({draggingNodeKey:p,dragChildrenKeys:Vt(p,s),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),c==null||c({event:t,node:A(n.props)})}),h()(x()(e),"onNodeDragEnter",function(t,n){var r=e.state,o=r.expandedKeys,s=r.keyEntities,c=r.dragChildrenKeys,p=r.flattenNodes,g=r.indent,y=e.props,u=y.onDragEnter,K=y.onExpand,m=y.allowDrop,N=y.direction,k=n.props,C=k.pos,E=k.eventKey,M=x()(e),D=M.dragNode;if(e.currentMouseOverDroppableNodeKey!==E&&(e.currentMouseOverDroppableNodeKey=E),!D){e.resetDragState();return}var b=_e(t,D,n,g,e.dragStartMousePosition,m,p,s,o,N),P=b.dropPosition,T=b.dropLevelOffset,w=b.dropTargetKey,I=b.dropContainerKey,j=b.dropTargetPos,F=b.dropAllowed,Z=b.dragOverNodeKey;if(c.indexOf(w)!==-1||!F){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(R){clearTimeout(e.delayedDragEnterLogic[R])}),D.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[C]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var R=ee()(o),V=H(s,n.props.eventKey);V&&(V.children||[]).length&&(R=Q(o,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(R),K==null||K(R,{node:A(n.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),D.props.eventKey===w&&T===0){e.resetDragState();return}e.setState({dragOverNodeKey:Z,dropPosition:P,dropLevelOffset:T,dropTargetKey:w,dropContainerKey:I,dropTargetPos:j,dropAllowed:F}),u==null||u({event:t,node:A(n.props),expandedKeys:o})}),h()(x()(e),"onNodeDragOver",function(t,n){var r=e.state,o=r.dragChildrenKeys,s=r.flattenNodes,c=r.keyEntities,p=r.expandedKeys,g=r.indent,y=e.props,u=y.onDragOver,K=y.allowDrop,m=y.direction,N=x()(e),k=N.dragNode;if(k){var C=_e(t,k,n,g,e.dragStartMousePosition,K,s,c,p,m),E=C.dropPosition,M=C.dropLevelOffset,D=C.dropTargetKey,b=C.dropContainerKey,P=C.dropAllowed,T=C.dropTargetPos,w=C.dragOverNodeKey;o.indexOf(D)!==-1||!P||(k.props.eventKey===D&&M===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():E===e.state.dropPosition&&M===e.state.dropLevelOffset&&D===e.state.dropTargetKey&&b===e.state.dropContainerKey&&T===e.state.dropTargetPos&&P===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:E,dropLevelOffset:M,dropTargetKey:D,dropContainerKey:b,dropTargetPos:T,dropAllowed:P,dragOverNodeKey:w}),u==null||u({event:t,node:A(n.props)}))}}),h()(x()(e),"onNodeDragLeave",function(t,n){e.currentMouseOverDroppableNodeKey===n.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:A(n.props)})}),h()(x()(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),h()(x()(e),"onNodeDragEnd",function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:A(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),h()(x()(e),"onNodeDrop",function(t,n){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=e.state,c=s.dragChildrenKeys,p=s.dropPosition,g=s.dropTargetKey,y=s.dropTargetPos,u=s.dropAllowed;if(u){var K=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var m=O()(O()({},ce(g,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===g,data:H(e.state.keyEntities,g).node}),N=c.indexOf(g)!==-1;(0,J.ZP)(!N,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var k=be(y),C={event:t,node:A(m),dragNode:e.dragNode?A(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(c),dropToGap:p!==0,dropPosition:p+Number(k[k.length-1])};o||K==null||K(C),e.dragNode=null}}}),h()(x()(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),h()(x()(e),"triggerExpandActionExpand",function(t,n){var r=e.state,o=r.expandedKeys,s=r.flattenNodes,c=n.expanded,p=n.key,g=n.isLeaf;if(!(g||t.shiftKey||t.metaKey||t.ctrlKey)){var y=s.filter(function(K){return K.key===p})[0],u=A(O()(O()({},ce(p,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(c?Y(o,p):Q(o,p)),e.onNodeExpand(t,u)}}),h()(x()(e),"onNodeClick",function(t,n){var r=e.props,o=r.onClick,s=r.expandAction;s==="click"&&e.triggerExpandActionExpand(t,n),o==null||o(t,n)}),h()(x()(e),"onNodeDoubleClick",function(t,n){var r=e.props,o=r.onDoubleClick,s=r.expandAction;s==="doubleClick"&&e.triggerExpandActionExpand(t,n),o==null||o(t,n)}),h()(x()(e),"onNodeSelect",function(t,n){var r=e.state.selectedKeys,o=e.state,s=o.keyEntities,c=o.fieldNames,p=e.props,g=p.onSelect,y=p.multiple,u=n.selected,K=n[c.key],m=!u;m?y?r=Q(r,K):r=[K]:r=Y(r,K);var N=r.map(function(k){var C=H(s,k);return C?C.node:null}).filter(function(k){return k});e.setUncontrolledState({selectedKeys:r}),g==null||g(r,{event:"select",selected:m,node:n,selectedNodes:N,nativeEvent:t.nativeEvent})}),h()(x()(e),"onNodeCheck",function(t,n,r){var o=e.state,s=o.keyEntities,c=o.checkedKeys,p=o.halfCheckedKeys,g=e.props,y=g.checkStrictly,u=g.onCheck,K=n.key,m,N={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(y){var k=r?Q(c,K):Y(c,K),C=Y(p,K);m={checked:k,halfChecked:C},N.checkedNodes=k.map(function(T){return H(s,T)}).filter(function(T){return T}).map(function(T){return T.node}),e.setUncontrolledState({checkedKeys:k})}else{var E=Te([].concat(ee()(c),[K]),!0,s),M=E.checkedKeys,D=E.halfCheckedKeys;if(!r){var b=new Set(M);b.delete(K);var P=Te(Array.from(b),{checked:!1,halfCheckedKeys:D},s);M=P.checkedKeys,D=P.halfCheckedKeys}m=M,N.checkedNodes=[],N.checkedNodesPositions=[],N.halfCheckedKeys=D,M.forEach(function(T){var w=H(s,T);if(w){var I=w.node,j=w.pos;N.checkedNodes.push(I),N.checkedNodesPositions.push({node:I,pos:j})}}),e.setUncontrolledState({checkedKeys:M},!1,{halfCheckedKeys:D})}u==null||u(m,N)}),h()(x()(e),"onNodeLoad",function(t){var n,r=t.key,o=e.state.keyEntities,s=H(o,r);if(!(s!=null&&(n=s.children)!==null&&n!==void 0&&n.length)){var c=new Promise(function(p,g){e.setState(function(y){var u=y.loadedKeys,K=u===void 0?[]:u,m=y.loadingKeys,N=m===void 0?[]:m,k=e.props,C=k.loadData,E=k.onLoad;if(!C||K.indexOf(r)!==-1||N.indexOf(r)!==-1)return null;var M=C(t);return M.then(function(){var D=e.state.loadedKeys,b=Q(D,r);E==null||E(b,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:b}),e.setState(function(P){return{loadingKeys:Y(P.loadingKeys,r)}}),p()}).catch(function(D){if(e.setState(function(P){return{loadingKeys:Y(P.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=en){var b=e.state.loadedKeys;(0,J.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Q(b,r)}),p()}g(D)}),{loadingKeys:Q(N,r)}})});return c.catch(function(){}),c}}),h()(x()(e),"onNodeMouseEnter",function(t,n){var r=e.props.onMouseEnter;r==null||r({event:t,node:n})}),h()(x()(e),"onNodeMouseLeave",function(t,n){var r=e.props.onMouseLeave;r==null||r({event:t,node:n})}),h()(x()(e),"onNodeContextMenu",function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))}),h()(x()(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t==null||t.apply(void 0,r)}),h()(x()(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t==null||t.apply(void 0,r)}),h()(x()(e),"getTreeNodeRequiredProps",function(){var t=e.state,n=t.expandedKeys,r=t.selectedKeys,o=t.loadedKeys,s=t.loadingKeys,c=t.checkedKeys,p=t.halfCheckedKeys,g=t.dragOverNodeKey,y=t.dropPosition,u=t.keyEntities;return{expandedKeys:n||[],selectedKeys:r||[],loadedKeys:o||[],loadingKeys:s||[],checkedKeys:c||[],halfCheckedKeys:p||[],dragOverNodeKey:g,dropPosition:y,keyEntities:u}}),h()(x()(e),"setExpandedKeys",function(t){var n=e.state,r=n.treeData,o=n.fieldNames,s=Ee(r,t,o);e.setUncontrolledState({expandedKeys:t,flattenNodes:s},!0)}),h()(x()(e),"onNodeExpand",function(t,n){var r=e.state.expandedKeys,o=e.state,s=o.listChanging,c=o.fieldNames,p=e.props,g=p.onExpand,y=p.loadData,u=n.expanded,K=n[c.key];if(!s){var m=r.indexOf(K),N=!u;if((0,J.ZP)(u&&m!==-1||!u&&m===-1,"Expand state not sync with index check"),N?r=Q(r,K):r=Y(r,K),e.setExpandedKeys(r),g==null||g(r,{node:n,expanded:N,nativeEvent:t.nativeEvent}),N&&y){var k=e.onNodeLoad(n);k&&k.then(function(){var C=Ee(e.state.treeData,r,c);e.setUncontrolledState({flattenNodes:C})}).catch(function(){var C=e.state.expandedKeys,E=Y(C,K);e.setExpandedKeys(E)})}}}),h()(x()(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),h()(x()(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),h()(x()(e),"onActiveChange",function(t){var n=e.state.activeKey,r=e.props,o=r.onActiveChange,s=r.itemScrollOffset,c=s===void 0?0:s;n!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:c}),o==null||o(t))}),h()(x()(e),"getActiveItem",function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return n===null?null:r.find(function(o){var s=o.key;return s===n})||null}),h()(x()(e),"offsetActiveKey",function(t){var n=e.state,r=n.flattenNodes,o=n.activeKey,s=r.findIndex(function(g){var y=g.key;return y===o});s===-1&&t<0&&(s=r.length),s=(s+t+r.length)%r.length;var c=r[s];if(c){var p=c.key;e.onActiveChange(p)}else e.onActiveChange(null)}),h()(x()(e),"onKeyDown",function(t){var n=e.state,r=n.activeKey,o=n.expandedKeys,s=n.checkedKeys,c=n.fieldNames,p=e.props,g=p.onKeyDown,y=p.checkable,u=p.selectable;switch(t.which){case ae.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case ae.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var K=e.getActiveItem();if(K&&K.data){var m=e.getTreeNodeRequiredProps(),N=K.data.isLeaf===!1||!!(K.data[c.children]||[]).length,k=A(O()(O()({},ce(r,m)),{},{data:K.data,active:!0}));switch(t.which){case ae.Z.LEFT:{N&&o.includes(r)?e.onNodeExpand({},k):K.parent&&e.onActiveChange(K.parent.key),t.preventDefault();break}case ae.Z.RIGHT:{N&&!o.includes(r)?e.onNodeExpand({},k):K.children&&K.children.length&&e.onActiveChange(K.children[0].key),t.preventDefault();break}case ae.Z.ENTER:case ae.Z.SPACE:{y&&!k.disabled&&k.checkable!==!1&&!k.disableCheckbox?e.onNodeCheck({},k,!s.includes(r)):!y&&u&&!k.disabled&&k.selectable!==!1&&e.onNodeSelect({},k);break}}}g==null||g(t)}),h()(x()(e),"setUncontrolledState",function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var o=!1,s=!0,c={};Object.keys(t).forEach(function(p){if(p in e.props){s=!1;return}o=!0,c[p]=t[p]}),o&&(!n||s)&&e.setState(O()(O()({},c),r))}}),h()(x()(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return Ae()(f,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props,l=d.activeKey,v=d.itemScrollOffset,t=v===void 0?0:v;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d=this.state,l=d.focused,v=d.flattenNodes,t=d.keyEntities,n=d.draggingNodeKey,r=d.activeKey,o=d.dropLevelOffset,s=d.dropContainerKey,c=d.dropTargetKey,p=d.dropPosition,g=d.dragOverNodeKey,y=d.indent,u=this.props,K=u.prefixCls,m=u.className,N=u.style,k=u.showLine,C=u.focusable,E=u.tabIndex,M=E===void 0?0:E,D=u.selectable,b=u.showIcon,P=u.icon,T=u.switcherIcon,w=u.draggable,I=u.checkable,j=u.checkStrictly,F=u.disabled,Z=u.motion,R=u.loadData,V=u.filterTreeNode,q=u.height,ue=u.itemHeight,fe=u.virtual,W=u.titleRender,re=u.dropIndicatorRender,z=u.onContextMenu,oe=u.onScroll,Le=u.direction,Ne=u.rootClassName,Me=u.rootStyle,de=(0,Ze.Z)(this.props,{aria:!0,data:!0}),ie;return w&&(me()(w)==="object"?ie=w:typeof w=="function"?ie={nodeDraggable:w}:ie={}),(0,L.jsx)(Ce.Provider,{value:{prefixCls:K,selectable:D,showIcon:b,icon:P,switcherIcon:T,draggable:ie,draggingNodeKey:n,checkable:I,checkStrictly:j,disabled:F,keyEntities:t,dropLevelOffset:o,dropContainerKey:s,dropTargetKey:c,dropPosition:p,dragOverNodeKey:g,indent:y,direction:Le,dropIndicatorRender:re,loadData:R,filterTreeNode:V,titleRender:W,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop},children:(0,L.jsx)("div",{role:"tree",className:B()(K,m,Ne,h()(h()(h()({},"".concat(K,"-show-line"),k),"".concat(K,"-focused"),l),"".concat(K,"-active-focused"),r!==null)),style:Me,children:(0,L.jsx)(Wt,O()(O()({ref:this.listRef,prefixCls:K,style:N,data:v,disabled:F,selectable:D,checkable:!!I,motion:Z,dragging:n!==null,height:q,itemHeight:ue,virtual:fe,focusable:C,focused:l,tabIndex:M,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:z,onScroll:oe},this.getTreeNodeRequiredProps()),de))})})}}],[{key:"getDerivedStateFromProps",value:function(d,l){var v=l.prevProps,t={prevProps:d};function n(E){return!v&&E in d||v&&v[E]!==d[E]}var r,o=l.fieldNames;if(n("fieldNames")&&(o=Ke(d.fieldNames),t.fieldNames=o),n("treeData")?r=d.treeData:n("children")&&((0,J.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=Ot(d.children)),r){t.treeData=r;var s=Mt(r,{fieldNames:o});t.keyEntities=O()(h()({},ne,Ye),s.keyEntities)}var c=t.keyEntities||l.keyEntities;if(n("expandedKeys")||v&&n("autoExpandParent"))t.expandedKeys=d.autoExpandParent||!v&&d.defaultExpandParent?tt(d.expandedKeys,c):d.expandedKeys;else if(!v&&d.defaultExpandAll){var p=O()({},c);delete p[ne],t.expandedKeys=Object.keys(p).map(function(E){return p[E].key})}else!v&&d.defaultExpandedKeys&&(t.expandedKeys=d.autoExpandParent||d.defaultExpandParent?tt(d.defaultExpandedKeys,c):d.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var g=Ee(r||l.treeData,t.expandedKeys||l.expandedKeys,o);t.flattenNodes=g}if(d.selectable&&(n("selectedKeys")?t.selectedKeys=et(d.selectedKeys,d):!v&&d.defaultSelectedKeys&&(t.selectedKeys=et(d.defaultSelectedKeys,d))),d.checkable){var y;if(n("checkedKeys")?y=Pe(d.checkedKeys)||{}:!v&&d.defaultCheckedKeys?y=Pe(d.defaultCheckedKeys)||{}:r&&(y=Pe(d.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),y){var u=y,K=u.checkedKeys,m=K===void 0?[]:K,N=u.halfCheckedKeys,k=N===void 0?[]:N;if(!d.checkStrictly){var C=Te(m,!0,c);m=C.checkedKeys,k=C.halfCheckedKeys}t.checkedKeys=m,t.halfCheckedKeys=k}}return n("loadedKeys")&&(t.loadedKeys=d.loadedKeys),t}}]),f}($.Component);h()(Oe,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Kt,allowDrop:function(){return!0},expandAction:!1}),h()(Oe,"TreeNode",xe);var tn=Oe,nn=tn}}]);
