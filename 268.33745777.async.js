"use strict";(self.webpackChunkrc_tree=self.webpackChunkrc_tree||[]).push([[268],{48092:function(cn,st,S){S.d(st,{O:function(){return Ne},Z:function(){return rn}});var lt=S(31468),Ce=S.n(lt),ct=S(82242),P=S.n(ct),ut=S(37205),_=S.n(ut),ft=S(82100),Ae=S.n(ft),vt=S(29186),je=S.n(vt),pt=S(13720),x=S.n(pt),ht=S(80619),We=S.n(ht),gt=S(47074),Fe=S.n(gt),yt=S(85573),h=S.n(yt),Kt=S(92310),V=S.n(Kt),ae=S(76507),Ze=S(53863),J=S(14097),R=S(71062),Ee=R.createContext(null),O=S(99678);function xt(a){var i=a.dropPosition,f=a.dropLevelOffset,e=a.indent,d={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(i){case-1:d.top=0,d.left=-f*e;break;case 1:d.bottom=0,d.left=-f*e;break;case 0:d.bottom=0,d.left=e;break}return(0,O.jsx)("div",{style:d})}var Nt=S(70236),He=S.n(Nt),kt=S(79800),ee=S.n(kt),mt=S(39647),ye=S.n(mt),Ke=S(826),Ct=S(34872),Et=S(44516),Dt=function(i){for(var f=i.prefixCls,e=i.level,d=i.isStart,l=i.isEnd,v=i.width,t=v>=0?{width:v}:{},n="".concat(f,"-indent-unit"),r=[],o=0;o<e;o+=1)r.push((0,O.jsx)("span",{className:V()(n,h()(h()({},"".concat(n,"-start"),d[o]),"".concat(n,"-end"),l[o])),style:t},o));return(0,O.jsx)("span",{"aria-hidden":"true",className:"".concat(f,"-indent"),children:r})},St=R.memo(Dt);function H(a,i){return a[i]}var bt=S(90986),Pt=S(81304),Tt=["children"];function Ue(a,i){return"".concat(a,"-").concat(i)}function Ot(a){return a&&a.type&&a.type.isTreeNode}function ce(a,i){return a!=null?a:i}function xe(a){var i=a||{},f=i.title,e=i._title,d=i.key,l=i.children,v=f||"title";return{title:v,_title:e||[v],key:d||"key",children:l||"children"}}function un(a,i){var f=new Map;function e(d){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(d||[]).forEach(function(v){var t=v[i.key],n=v[i.children];warning(t!=null,"Tree node must have a certain key: [".concat(l).concat(t,"]"));var r=String(t);warning(!f.has(r)||t===null||t===void 0,"Same 'key' exist in the Tree: ".concat(r)),f.set(r,!0),e(n,"".concat(l).concat(r," > "))})}e(a)}function Lt(a){function i(f){var e=(0,bt.Z)(f);return e.map(function(d){if(!Ot(d))return(0,J.ZP)(!d,"Tree/TreeNode can only accept TreeNode as children."),null;var l=d.key,v=d.props,t=v.children,n=ye()(v,Tt),r=P()({key:l},n),o=i(t);return o.length&&(r.children=o),r}).filter(function(d){return d})}return i(a)}function De(a,i,f){var e=xe(f),d=e._title,l=e.key,v=e.children,t=new Set(i===!0?[]:i),n=[];function r(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o.map(function(c,p){for(var g=Ue(s?s.pos:"0",p),y=ce(c[l],g),u,K=0;K<d.length;K+=1){var C=d[K];if(c[C]!==void 0){u=c[C];break}}var N=P()(P()({},(0,Pt.Z)(c,[].concat(_()(d),[l,v]))),{},{title:u,key:y,parent:s,pos:g,children:null,data:c,isStart:[].concat(_()(s?s.isStart:[]),[p===0]),isEnd:[].concat(_()(s?s.isEnd:[]),[p===o.length-1])});return n.push(N),i===!0||t.has(y)?N.children=r(c[v]||[],N):N.children=[],N})}return r(a),n}function Mt(a,i,f){var e={};Ce()(f)==="object"?e=f:e={externalGetKey:f},e=e||{};var d=e,l=d.childrenPropName,v=d.externalGetKey,t=d.fieldNames,n=xe(t),r=n.key,o=n.children,s=l||o,c;v?typeof v=="string"?c=function(y){return y[v]}:typeof v=="function"&&(c=function(y){return v(y)}):c=function(y,u){return ce(y[r],u)};function p(g,y,u,K){var C=g?g[s]:a,N=g?Ue(u.pos,y):"0",k=g?[].concat(_()(K),[g]):[];if(g){var m=c(g,N),E={node:g,index:y,pos:N,key:m,parentPos:u.node?u.pos:null,level:u.level+1,nodes:k};i(E)}C&&C.forEach(function(T,D){p(T,D,{node:g,pos:N,level:u?u.level+1:-1},k)})}p(null)}function wt(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=i.initWrapper,e=i.processEntity,d=i.onProcessFinished,l=i.externalGetKey,v=i.childrenPropName,t=i.fieldNames,n=arguments.length>2?arguments[2]:void 0,r=l||n,o={},s={},c={posEntities:o,keyEntities:s};return f&&(c=f(c)||c),Mt(a,function(p){var g=p.node,y=p.index,u=p.pos,K=p.key,C=p.parentPos,N=p.level,k=p.nodes,m={node:g,nodes:k,index:y,key:K,pos:u,level:N},E=ce(K,u);o[u]=m,s[E]=m,m.parent=o[C],m.parent&&(m.parent.children=m.parent.children||[],m.parent.children.push(m)),e&&e(m,c)},{externalGetKey:r,childrenPropName:v,fieldNames:t}),d&&d(c),c}function ue(a,i){var f=i.expandedKeys,e=i.selectedKeys,d=i.loadedKeys,l=i.loadingKeys,v=i.checkedKeys,t=i.halfCheckedKeys,n=i.dragOverNodeKey,r=i.dropPosition,o=i.keyEntities,s=H(o,a),c={eventKey:a,expanded:f.indexOf(a)!==-1,selected:e.indexOf(a)!==-1,loaded:d.indexOf(a)!==-1,loading:l.indexOf(a)!==-1,checked:v.indexOf(a)!==-1,halfChecked:t.indexOf(a)!==-1,pos:String(s?s.pos:""),dragOver:n===a&&r===0,dragOverGapTop:n===a&&r===-1,dragOverGapBottom:n===a&&r===1};return c}function A(a){var i=a.data,f=a.expanded,e=a.selected,d=a.checked,l=a.loaded,v=a.loading,t=a.halfChecked,n=a.dragOver,r=a.dragOverGapTop,o=a.dragOverGapBottom,s=a.pos,c=a.active,p=a.eventKey,g=P()(P()({},i),{},{expanded:f,selected:e,checked:d,loaded:l,loading:v,halfChecked:t,dragOver:n,dragOverGapTop:r,dragOverGapBottom:o,pos:s,active:c,key:p});return"props"in g||Object.defineProperty(g,"props",{get:function(){return(0,J.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),a}}),g}var It=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable","indentWidth"],Ge="open",Be="close",Rt="---",$t=function(a){We()(f,a);var i=Fe()(f);function f(){var e;Ae()(this,f);for(var d=arguments.length,l=new Array(d),v=0;v<d;v++)l[v]=arguments[v];return e=i.call.apply(i,[this].concat(l)),h()(x()(e),"state",{dragNodeHighlight:!1}),h()(x()(e),"selectHandle",void 0),h()(x()(e),"cacheIndent",void 0),h()(x()(e),"onSelectorClick",function(t){var n=e.props.context.onNodeClick;n(t,A(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)}),h()(x()(e),"onSelectorDoubleClick",function(t){var n=e.props.context.onNodeDoubleClick;n(t,A(e.props))}),h()(x()(e),"onSelect",function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;n(t,A(e.props))}}),h()(x()(e),"onCheck",function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,o=n.checked,s=e.props.context.onNodeCheck;if(!(!e.isCheckable()||r)){var c=!o;s(t,A(e.props),c)}}}),h()(x()(e),"onMouseEnter",function(t){var n=e.props.context.onNodeMouseEnter;n(t,A(e.props))}),h()(x()(e),"onMouseLeave",function(t){var n=e.props.context.onNodeMouseLeave;n(t,A(e.props))}),h()(x()(e),"onContextMenu",function(t){var n=e.props.context.onNodeContextMenu;n(t,A(e.props))}),h()(x()(e),"onDragStart",function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,x()(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}}),h()(x()(e),"onDragEnter",function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,x()(e))}),h()(x()(e),"onDragOver",function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,x()(e))}),h()(x()(e),"onDragLeave",function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,x()(e))}),h()(x()(e),"onDragEnd",function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,x()(e))}),h()(x()(e),"onDrop",function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,x()(e))}),h()(x()(e),"onExpand",function(t){var n=e.props,r=n.loading,o=n.context.onNodeExpand;r||o(t,A(e.props))}),h()(x()(e),"setSelectHandle",function(t){e.selectHandle=t}),h()(x()(e),"getNodeState",function(){var t=e.props.expanded;return e.isLeaf()?null:t?Ge:Be}),h()(x()(e),"hasChildren",function(){var t=e.props.eventKey,n=e.props.context.keyEntities,r=H(n,t)||{},o=r.children;return!!(o||[]).length}),h()(x()(e),"isLeaf",function(){var t=e.props,n=t.isLeaf,r=t.loaded,o=e.props.context.loadData,s=e.hasChildren();return n===!1?!1:n||!o&&!s||o&&r&&!s}),h()(x()(e),"isDisabled",function(){var t=e.props.disabled,n=e.props.context.disabled;return!!(n||t)}),h()(x()(e),"isCheckable",function(){var t=e.props.checkable,n=e.props.context.checkable;return!n||t===!1?!1:n}),h()(x()(e),"syncLoadData",function(t){var n=t.expanded,r=t.loading,o=t.loaded,s=e.props.context,c=s.loadData,p=s.onNodeLoad;r||c&&n&&!e.isLeaf()&&!o&&p(A(e.props))}),h()(x()(e),"isDraggable",function(){var t=e.props,n=t.data,r=t.context.draggable;return!!(r&&(!r.nodeDraggable||r.nodeDraggable(n)))}),h()(x()(e),"renderDragHandler",function(){var t=e.props.context,n=t.draggable,r=t.prefixCls;return n!=null&&n.icon?(0,O.jsx)("span",{className:"".concat(r,"-draggable-icon"),children:n.icon}):null}),h()(x()(e),"renderSwitcherIconDom",function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,o=n||r;return typeof o=="function"?o(P()(P()({},e.props),{},{isLeaf:t})):o}),h()(x()(e),"renderSwitcher",function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var r=e.renderSwitcherIconDom(!0);return r!==!1?(0,O.jsx)("span",{className:V()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop")),children:r}):null}var o=V()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?Ge:Be)),s=e.renderSwitcherIconDom(!1);return s!==!1?(0,O.jsx)("span",{onClick:e.onExpand,className:o,children:s}):null}),h()(x()(e),"renderCheckbox",function(){var t=e.props,n=t.checked,r=t.halfChecked,o=t.disableCheckbox,s=e.props.context.prefixCls,c=e.isDisabled(),p=e.isCheckable();if(!p)return null;var g=typeof p!="boolean"?p:null;return(0,O.jsx)("span",{className:V()("".concat(s,"-checkbox"),n&&"".concat(s,"-checkbox-checked"),!n&&r&&"".concat(s,"-checkbox-indeterminate"),(c||o)&&"".concat(s,"-checkbox-disabled")),onClick:e.onCheck,children:g})}),h()(x()(e),"renderIcon",function(){var t=e.props.loading,n=e.props.context.prefixCls;return(0,O.jsx)("span",{className:V()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})}),h()(x()(e),"renderSelector",function(){var t=e.state.dragNodeHighlight,n=e.props,r=n.title,o=r===void 0?Rt:r,s=n.selected,c=n.icon,p=n.loading,g=n.data,y=e.props.context,u=y.prefixCls,K=y.showIcon,C=y.icon,N=y.loadData,k=y.titleRender,m=e.isDisabled(),E="".concat(u,"-node-content-wrapper"),T;if(K){var D=c||C;T=D?(0,O.jsx)("span",{className:V()("".concat(u,"-iconEle"),"".concat(u,"-icon__customize")),children:typeof D=="function"?D(e.props):D}):e.renderIcon()}else N&&p&&(T=e.renderIcon());var b;typeof o=="function"?b=o(g):k?b=k(g):b=o;var L=(0,O.jsx)("span",{className:"".concat(u,"-title"),children:b});return(0,O.jsxs)("span",{ref:e.setSelectHandle,title:typeof o=="string"?o:"",className:V()("".concat(E),"".concat(E,"-").concat(e.getNodeState()||"normal"),!m&&(s||t)&&"".concat(u,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick,children:[T,L,e.renderDropIndicator()]})}),h()(x()(e),"renderDropIndicator",function(){var t=e.props,n=t.disabled,r=t.eventKey,o=e.props.context,s=o.draggable,c=o.dropLevelOffset,p=o.dropPosition,g=o.prefixCls,y=o.indent,u=o.dropIndicatorRender,K=o.dragOverNodeKey,C=o.direction,N=!!s,k=!n&&N&&K===r,m=y!=null?y:e.cacheIndent;return e.cacheIndent=y,k?u({dropPosition:p,dropLevelOffset:c,indent:m,prefixCls:g,direction:C}):null}),e}return je()(f,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var d=this.props.selectable,l=this.props.context.selectable;return typeof d=="boolean"?d:l}},{key:"render",value:function(){var d,l=this.props,v=l.eventKey,t=l.className,n=l.style,r=l.dragOver,o=l.dragOverGapTop,s=l.dragOverGapBottom,c=l.isLeaf,p=l.isStart,g=l.isEnd,y=l.expanded,u=l.selected,K=l.checked,C=l.halfChecked,N=l.loading,k=l.domRef,m=l.active,E=l.data,T=l.onMouseMove,D=l.selectable,b=l.indentWidth,L=ye()(l,It),M=this.props.context,w=M.prefixCls,I=M.filterTreeNode,j=M.keyEntities,W=M.dropContainerKey,F=M.dropTargetKey,$=M.draggingNodeKey,Z=this.isDisabled(),ne=(0,Ze.Z)(L,{aria:!0,data:!0}),oe=H(j,v)||{},fe=oe.level,ve=g[g.length-1],B=this.isDraggable(),re=!Z&&B,z=$===v,de=D!==void 0?{"aria-selected":!!D}:void 0;return(0,O.jsxs)("div",P()(P()(P()({ref:k,className:V()(t,"".concat(w,"-treenode"),(d={},h()(h()(h()(h()(h()(h()(h()(h()(h()(h()(d,"".concat(w,"-treenode-disabled"),Z),"".concat(w,"-treenode-switcher-").concat(y?"open":"close"),!c),"".concat(w,"-treenode-checkbox-checked"),K),"".concat(w,"-treenode-checkbox-indeterminate"),C),"".concat(w,"-treenode-selected"),u),"".concat(w,"-treenode-loading"),N),"".concat(w,"-treenode-active"),m),"".concat(w,"-treenode-leaf-last"),ve),"".concat(w,"-treenode-draggable"),B),"dragging",z),h()(h()(h()(h()(h()(h()(d,"drop-target",F===v),"drop-container",W===v),"drag-over",!Z&&r),"drag-over-gap-top",!Z&&o),"drag-over-gap-bottom",!Z&&s),"filter-node",I&&I(A(this.props))))),style:n,draggable:re,"aria-grabbed":z,onDragStart:re?this.onDragStart:void 0,onDragEnter:B?this.onDragEnter:void 0,onDragOver:B?this.onDragOver:void 0,onDragLeave:B?this.onDragLeave:void 0,onDrop:B?this.onDrop:void 0,onDragEnd:B?this.onDragEnd:void 0,onMouseMove:T},de),ne),{},{children:[(0,O.jsx)(St,{prefixCls:w,level:fe,isStart:p,isEnd:g,width:b}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector()]}))}}]),f}(R.Component),Se=function(i){return(0,O.jsx)(Ee.Consumer,{children:function(e){return(0,O.jsx)($t,P()(P()({},i),{},{context:e}))}})};Se.displayName="TreeNode",Se.isTreeNode=1;var Ne=Se;function At(a,i){var f=R.useState(!1),e=ee()(f,2),d=e[0],l=e[1];(0,Ke.ZP)(function(){if(d)return a(),function(){i()}},[d]),(0,Ke.ZP)(function(){return l(!0),function(){l(!1)}},[])}var jt=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Ve=function(i,f){var e=i.className,d=i.style,l=i.motion,v=i.motionNodes,t=i.motionType,n=i.onMotionStart,r=i.onMotionEnd,o=i.active,s=i.treeNodeRequiredProps,c=ye()(i,jt),p=R.useState(!0),g=ee()(p,2),y=g[0],u=g[1],K=R.useContext(Ee),C=K.prefixCls,N=v&&t!=="hide";(0,Ke.ZP)(function(){v&&N!==y&&u(N)},[v]);var k=function(){v&&n()},m=R.useRef(!1),E=function(){v&&!m.current&&(m.current=!0,r())};At(k,E);var T=function(b){N===b&&E()};return v?(0,O.jsx)(Et.ZP,P()(P()({ref:f,visible:y},l),{},{motionAppear:t==="show",onVisibleChanged:T,children:function(b,L){var M=b.className,w=b.style;return(0,O.jsx)("div",{ref:L,className:V()("".concat(C,"-treenode-motion"),M),style:w,children:v.map(function(I){var j=Object.assign({},(He()(I.data),I.data)),W=I.title,F=I.key,$=I.isStart,Z=I.isEnd;delete j.children;var ne=ue(F,s);return(0,R.createElement)(Ne,P()(P()(P()({},j),ne),{},{title:W,active:o,data:I.data,key:F,isStart:$,isEnd:Z}))})})}})):(0,O.jsx)(Ne,P()(P()({domRef:f,className:e,style:d},c),{},{active:o}))};Ve.displayName="MotionTreeNode";var Wt=R.forwardRef(Ve),Ft=Wt;function Zt(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=a.length,e=i.length;if(Math.abs(f-e)!==1)return{add:!1,key:null};function d(l,v){var t=new Map;l.forEach(function(r){t.set(r,!0)});var n=v.filter(function(r){return!t.has(r)});return n.length===1?n[0]:null}return f<e?{add:!0,key:d(a,i)}:{add:!1,key:d(i,a)}}function ze(a,i,f){var e=a.findIndex(function(t){return t.key===f}),d=a[e+1],l=i.findIndex(function(t){return t.key===f});if(d){var v=i.findIndex(function(t){return t.key===d.key});return i.slice(l+1,v)}return i.slice(l+1)}var Ht=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","indentWidth","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Ye={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ut=function(){},te="RC_TREE_MOTION_".concat(Math.random()),be={key:te},Xe={key:te,level:0,index:0,pos:"0",node:be,nodes:[be]},Je={parent:null,children:[],pos:Xe.pos,data:be,title:null,key:te,isStart:[],isEnd:[]};function Qe(a,i,f,e){return i===!1||!f?a:a.slice(0,Math.ceil(f/e)+1)}function qe(a){var i=a.key,f=a.pos;return ce(i,f)}function Gt(a){for(var i=String(a.data.key),f=a;f.parent;)f=f.parent,i="".concat(f.data.key," > ").concat(i);return i}var _e=R.forwardRef(function(a,i){var f=a.prefixCls,e=a.data,d=a.selectable,l=a.checkable,v=a.expandedKeys,t=a.selectedKeys,n=a.checkedKeys,r=a.loadedKeys,o=a.loadingKeys,s=a.halfCheckedKeys,c=a.keyEntities,p=a.disabled,g=a.indentWidth,y=a.dragging,u=a.dragOverNodeKey,K=a.dropPosition,C=a.motion,N=a.height,k=a.itemHeight,m=a.virtual,E=a.focusable,T=a.activeItem,D=a.focused,b=a.tabIndex,L=a.onKeyDown,M=a.onFocus,w=a.onBlur,I=a.onActiveChange,j=a.onListChangeStart,W=a.onListChangeEnd,F=ye()(a,Ht),$=R.useRef(null),Z=R.useRef(null);R.useImperativeHandle(i,function(){return{scrollTo:function(U){$.current.scrollTo(U)},getIndentWidth:function(){return Z.current.offsetWidth}}});var ne=R.useState(v),oe=ee()(ne,2),fe=oe[0],ve=oe[1],B=R.useState(e),re=ee()(B,2),z=re[0],de=re[1],Me=R.useState(e),ke=ee()(Me,2),we=ke[0],ie=ke[1],se=R.useState([]),at=ee()(se,2),an=at[0],Ie=at[1],on=R.useState(null),ot=ee()(on,2),dn=ot[0],Re=ot[1],dt=R.useRef(e);dt.current=e;function $e(){var G=dt.current;de(G),ie(G),Ie([]),Re(null),W()}(0,Ke.ZP)(function(){ve(v);var G=Zt(fe,v);if(G.key!==null)if(G.add){var U=z.findIndex(function(he){var ge=he.key;return ge===G.key}),le=Qe(ze(z,e,G.key),m,N,k),q=z.slice();q.splice(U+1,0,Je),ie(q),Ie(le),Re("show")}else{var pe=e.findIndex(function(he){var ge=he.key;return ge===G.key}),X=Qe(ze(e,z,G.key),m,N,k),me=e.slice();me.splice(pe+1,0,Je),ie(me),Ie(X),Re("hide")}else z!==e&&(de(e),ie(e))},[v,e]),R.useEffect(function(){y||$e()},[y]);var sn=C?we:e,it={expandedKeys:v,selectedKeys:t,loadedKeys:r,loadingKeys:o,checkedKeys:n,halfCheckedKeys:s,dragOverNodeKey:u,dropPosition:K,keyEntities:c};return(0,O.jsxs)(O.Fragment,{children:[D&&T&&(0,O.jsx)("span",{style:Ye,"aria-live":"assertive",children:Gt(T)}),(0,O.jsx)("div",{children:(0,O.jsx)("input",{style:Ye,disabled:E===!1||p,tabIndex:E!==!1?b:null,onKeyDown:L,onFocus:M,onBlur:w,value:"",onChange:Ut,"aria-label":"for screen reader"})}),(0,O.jsx)("div",{className:"".concat(f,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0},children:(0,O.jsx)("div",{className:"".concat(f,"-indent"),children:(0,O.jsx)("div",{ref:Z,className:"".concat(f,"-indent-unit")})})}),(0,O.jsx)(Ct.Z,P()(P()({},F),{},{data:sn,itemKey:qe,height:N,fullHeight:!1,virtual:m,itemHeight:k,prefixCls:"".concat(f,"-list"),ref:$,onVisibleChange:function(U,le){var q=new Set(U),pe=le.filter(function(X){return!q.has(X)});pe.some(function(X){return qe(X)===te})&&$e()},children:function(U){var le=U.pos,q=Object.assign({},(He()(U.data),U.data)),pe=U.title,X=U.key,me=U.isStart,he=U.isEnd,ge=ce(X,le);delete q.key,delete q.children;var ln=ue(ge,it);return(0,O.jsx)(Ft,P()(P()(P()({},q),ln),{},{title:pe,active:!!T&&X===T.key,pos:le,data:U.data,isStart:me,isEnd:he,motion:C,indentWidth:g,motionNodes:X===te?an:null,motionType:dn,onMotionStart:j,onMotionEnd:$e,treeNodeRequiredProps:it,onMouseMove:function(){I(null)}}))}}))]})});_e.displayName="NodeList";var Bt=_e,Vt=null;function Y(a,i){if(!a)return[];var f=a.slice(),e=f.indexOf(i);return e>=0&&f.splice(e,1),f}function Q(a,i){var f=(a||[]).slice();return f.indexOf(i)===-1&&f.push(i),f}function Pe(a){return a.split("-")}function zt(a,i){var f=[],e=H(i,a);function d(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(v){var t=v.key,n=v.children;f.push(t),d(n)})}return d(e.children),f}function Yt(a){if(a.parent){var i=Pe(a.pos);return Number(i[i.length-1])===a.parent.children.length-1}return!1}function Xt(a){var i=Pe(a.pos);return Number(i[i.length-1])===0}function et(a,i,f,e,d,l,v,t,n,r){var o,s=a.clientX,c=a.clientY,p=a.target.getBoundingClientRect(),g=p.top,y=p.height,u=(r==="rtl"?-1:1)*(((d==null?void 0:d.x)||0)-s),K=(u-12)/e,C=n.filter(function(F){var $;return($=t[F])===null||$===void 0||($=$.children)===null||$===void 0?void 0:$.length}),N=H(t,f.props.eventKey);if(c<g+y/2){var k=v.findIndex(function(F){return F.key===N.key}),m=k<=0?0:k-1,E=v[m].key;N=H(t,E)}var T=N.key,D=N,b=N.key,L=0,M=0;if(!C.includes(T))for(var w=0;w<K&&Yt(N);w+=1)N=N.parent,M+=1;var I=i.props.data,j=N.node,W=!0;return Xt(N)&&N.level===0&&c<g+y/2&&l({dragNode:I,dropNode:j,dropPosition:-1})&&N.key===f.props.eventKey?L=-1:(D.children||[]).length&&C.includes(b)?l({dragNode:I,dropNode:j,dropPosition:0})?L=0:W=!1:M===0?K>-1.5?l({dragNode:I,dropNode:j,dropPosition:1})?L=1:W=!1:l({dragNode:I,dropNode:j,dropPosition:0})?L=0:l({dragNode:I,dropNode:j,dropPosition:1})?L=1:W=!1:l({dragNode:I,dropNode:j,dropPosition:1})?L=1:W=!1,{dropPosition:L,dropLevelOffset:M,dropTargetKey:N.key,dropTargetPos:N.pos,dragOverNodeKey:b,dropContainerKey:L===0?null:((o=N.parent)===null||o===void 0?void 0:o.key)||null,dropAllowed:W}}function tt(a,i){if(a){var f=i.multiple;return f?a.slice():a.length?[a[0]]:a}}var Jt=function(i){return i};function Qt(a,i){if(!a)return[];var f=i||{},e=f.processProps,d=e===void 0?Jt:e,l=Array.isArray(a)?a:[a];return l.map(function(v){var t=v.children,n=_objectWithoutProperties(v,Vt),r=Qt(t,i);return _jsx(TreeNode,_objectSpread(_objectSpread({},d(n)),{},{children:r}),n.key)})}function Te(a){if(!a)return null;var i;if(Array.isArray(a))i={checkedKeys:a,halfCheckedKeys:void 0};else if(Ce()(a)==="object")i={checkedKeys:a.checked||void 0,halfCheckedKeys:a.halfChecked||void 0};else return(0,J.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return i}function nt(a,i){var f=new Set;function e(d){if(!f.has(d)){var l=H(i,d);if(l){f.add(d);var v=l.parent,t=l.node;t.disabled||v&&e(v.key)}}}return(a||[]).forEach(function(d){e(d)}),_()(f)}function rt(a,i){var f=new Set;return a.forEach(function(e){i.has(e)||f.add(e)}),f}function qt(a){var i=a||{},f=i.disabled,e=i.disableCheckbox,d=i.checkable;return!!(f||e)||d===!1}function _t(a,i,f,e){for(var d=new Set(a),l=new Set,v=0;v<=f;v+=1){var t=i.get(v)||new Set;t.forEach(function(s){var c=s.key,p=s.node,g=s.children,y=g===void 0?[]:g;d.has(c)&&!e(p)&&y.filter(function(u){return!e(u.node)}).forEach(function(u){d.add(u.key)})})}for(var n=new Set,r=f;r>=0;r-=1){var o=i.get(r)||new Set;o.forEach(function(s){var c=s.parent,p=s.node;if(!(e(p)||!s.parent||n.has(s.parent.key))){if(e(s.parent.node)){n.add(c.key);return}var g=!0,y=!1;(c.children||[]).filter(function(u){return!e(u.node)}).forEach(function(u){var K=u.key,C=d.has(K);g&&!C&&(g=!1),!y&&(C||l.has(K))&&(y=!0)}),g&&d.add(c.key),y&&l.add(c.key),n.add(c.key)}})}return{checkedKeys:Array.from(d),halfCheckedKeys:Array.from(rt(l,d))}}function en(a,i,f,e,d){for(var l=new Set(a),v=new Set(i),t=0;t<=e;t+=1){var n=f.get(t)||new Set;n.forEach(function(c){var p=c.key,g=c.node,y=c.children,u=y===void 0?[]:y;!l.has(p)&&!v.has(p)&&!d(g)&&u.filter(function(K){return!d(K.node)}).forEach(function(K){l.delete(K.key)})})}v=new Set;for(var r=new Set,o=e;o>=0;o-=1){var s=f.get(o)||new Set;s.forEach(function(c){var p=c.parent,g=c.node;if(!(d(g)||!c.parent||r.has(c.parent.key))){if(d(c.parent.node)){r.add(p.key);return}var y=!0,u=!1;(p.children||[]).filter(function(K){return!d(K.node)}).forEach(function(K){var C=K.key,N=l.has(C);y&&!N&&(y=!1),!u&&(N||v.has(C))&&(u=!0)}),y||l.delete(p.key),u&&v.add(p.key),r.add(p.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(rt(v,l))}}function Oe(a,i,f,e){var d=[],l;e?l=e:l=qt;var v=new Set(a.filter(function(o){var s=!!H(f,o);return s||d.push(o),s})),t=new Map,n=0;Object.keys(f).forEach(function(o){var s=f[o],c=s.level,p=t.get(c);p||(p=new Set,t.set(c,p)),p.add(s),n=Math.max(n,c)}),(0,J.ZP)(!d.length,"Tree missing follow keys: ".concat(d.slice(0,100).map(function(o){return"'".concat(o,"'")}).join(", ")));var r;return i===!0?r=_t(v,t,n,l):r=en(v,i.halfCheckedKeys,t,n,l),r}var tn=10,Le=function(a){We()(f,a);var i=Fe()(f);function f(){var e;Ae()(this,f);for(var d=arguments.length,l=new Array(d),v=0;v<d;v++)l[v]=arguments[v];return e=i.call.apply(i,[this].concat(l)),h()(x()(e),"destroyed",!1),h()(x()(e),"delayedDragEnterLogic",void 0),h()(x()(e),"loadingRetryTimes",{}),h()(x()(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:xe()}),h()(x()(e),"dragStartMousePosition",null),h()(x()(e),"dragNode",void 0),h()(x()(e),"currentMouseOverDroppableNodeKey",null),h()(x()(e),"listRef",R.createRef()),h()(x()(e),"onNodeDragStart",function(t,n){var r=e.state,o=r.expandedKeys,s=r.keyEntities,c=e.props.onDragStart,p=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=Y(o,p);e.setState({draggingNodeKey:p,dragChildrenKeys:zt(p,s),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),c==null||c({event:t,node:A(n.props)})}),h()(x()(e),"onNodeDragEnter",function(t,n){var r=e.state,o=r.expandedKeys,s=r.keyEntities,c=r.dragChildrenKeys,p=r.flattenNodes,g=r.indent,y=e.props,u=y.onDragEnter,K=y.onExpand,C=y.allowDrop,N=y.direction,k=n.props,m=k.pos,E=k.eventKey,T=x()(e),D=T.dragNode;if(e.currentMouseOverDroppableNodeKey!==E&&(e.currentMouseOverDroppableNodeKey=E),!D){e.resetDragState();return}var b=et(t,D,n,g,e.dragStartMousePosition,C,p,s,o,N),L=b.dropPosition,M=b.dropLevelOffset,w=b.dropTargetKey,I=b.dropContainerKey,j=b.dropTargetPos,W=b.dropAllowed,F=b.dragOverNodeKey;if(c.indexOf(w)!==-1||!W){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function($){clearTimeout(e.delayedDragEnterLogic[$])}),D.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[m]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var $=_()(o),Z=H(s,n.props.eventKey);Z&&(Z.children||[]).length&&($=Q(o,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys($),K==null||K($,{node:A(n.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),D.props.eventKey===w&&M===0){e.resetDragState();return}e.setState({dragOverNodeKey:F,dropPosition:L,dropLevelOffset:M,dropTargetKey:w,dropContainerKey:I,dropTargetPos:j,dropAllowed:W}),u==null||u({event:t,node:A(n.props),expandedKeys:o})}),h()(x()(e),"onNodeDragOver",function(t,n){var r=e.state,o=r.dragChildrenKeys,s=r.flattenNodes,c=r.keyEntities,p=r.expandedKeys,g=r.indent,y=e.props,u=y.onDragOver,K=y.allowDrop,C=y.direction,N=x()(e),k=N.dragNode;if(k){var m=et(t,k,n,g,e.dragStartMousePosition,K,s,c,p,C),E=m.dropPosition,T=m.dropLevelOffset,D=m.dropTargetKey,b=m.dropContainerKey,L=m.dropAllowed,M=m.dropTargetPos,w=m.dragOverNodeKey;o.indexOf(D)!==-1||!L||(k.props.eventKey===D&&T===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():E===e.state.dropPosition&&T===e.state.dropLevelOffset&&D===e.state.dropTargetKey&&b===e.state.dropContainerKey&&M===e.state.dropTargetPos&&L===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:E,dropLevelOffset:T,dropTargetKey:D,dropContainerKey:b,dropTargetPos:M,dropAllowed:L,dragOverNodeKey:w}),u==null||u({event:t,node:A(n.props)}))}}),h()(x()(e),"onNodeDragLeave",function(t,n){e.currentMouseOverDroppableNodeKey===n.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:A(n.props)})}),h()(x()(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),h()(x()(e),"onNodeDragEnd",function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:A(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),h()(x()(e),"onNodeDrop",function(t,n){var r,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=e.state,c=s.dragChildrenKeys,p=s.dropPosition,g=s.dropTargetKey,y=s.dropTargetPos,u=s.dropAllowed;if(u){var K=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var C=P()(P()({},ue(g,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===g,data:H(e.state.keyEntities,g).node}),N=c.indexOf(g)!==-1;(0,J.ZP)(!N,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var k=Pe(y),m={event:t,node:A(C),dragNode:e.dragNode?A(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(c),dropToGap:p!==0,dropPosition:p+Number(k[k.length-1])};o||K==null||K(m),e.dragNode=null}}}),h()(x()(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),h()(x()(e),"triggerExpandActionExpand",function(t,n){var r=e.state,o=r.expandedKeys,s=r.flattenNodes,c=n.expanded,p=n.key,g=n.isLeaf;if(!(g||t.shiftKey||t.metaKey||t.ctrlKey)){var y=s.filter(function(K){return K.key===p})[0],u=A(P()(P()({},ue(p,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(c?Y(o,p):Q(o,p)),e.onNodeExpand(t,u)}}),h()(x()(e),"onNodeClick",function(t,n){var r=e.props,o=r.onClick,s=r.expandAction;s==="click"&&e.triggerExpandActionExpand(t,n),o==null||o(t,n)}),h()(x()(e),"onNodeDoubleClick",function(t,n){var r=e.props,o=r.onDoubleClick,s=r.expandAction;s==="doubleClick"&&e.triggerExpandActionExpand(t,n),o==null||o(t,n)}),h()(x()(e),"onNodeSelect",function(t,n){var r=e.state.selectedKeys,o=e.state,s=o.keyEntities,c=o.fieldNames,p=e.props,g=p.onSelect,y=p.multiple,u=n.selected,K=n[c.key],C=!u;C?y?r=Q(r,K):r=[K]:r=Y(r,K);var N=r.map(function(k){var m=H(s,k);return m?m.node:null}).filter(function(k){return k});e.setUncontrolledState({selectedKeys:r}),g==null||g(r,{event:"select",selected:C,node:n,selectedNodes:N,nativeEvent:t.nativeEvent})}),h()(x()(e),"onNodeCheck",function(t,n,r){var o=e.state,s=o.keyEntities,c=o.checkedKeys,p=o.halfCheckedKeys,g=e.props,y=g.checkStrictly,u=g.onCheck,K=n.key,C,N={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(y){var k=r?Q(c,K):Y(c,K),m=Y(p,K);C={checked:k,halfChecked:m},N.checkedNodes=k.map(function(M){return H(s,M)}).filter(function(M){return M}).map(function(M){return M.node}),e.setUncontrolledState({checkedKeys:k})}else{var E=Oe([].concat(_()(c),[K]),!0,s),T=E.checkedKeys,D=E.halfCheckedKeys;if(!r){var b=new Set(T);b.delete(K);var L=Oe(Array.from(b),{checked:!1,halfCheckedKeys:D},s);T=L.checkedKeys,D=L.halfCheckedKeys}C=T,N.checkedNodes=[],N.checkedNodesPositions=[],N.halfCheckedKeys=D,T.forEach(function(M){var w=H(s,M);if(w){var I=w.node,j=w.pos;N.checkedNodes.push(I),N.checkedNodesPositions.push({node:I,pos:j})}}),e.setUncontrolledState({checkedKeys:T},!1,{halfCheckedKeys:D})}u==null||u(C,N)}),h()(x()(e),"onNodeLoad",function(t){var n,r=t.key,o=e.state.keyEntities,s=H(o,r);if(!(s!=null&&(n=s.children)!==null&&n!==void 0&&n.length)){var c=new Promise(function(p,g){e.setState(function(y){var u=y.loadedKeys,K=u===void 0?[]:u,C=y.loadingKeys,N=C===void 0?[]:C,k=e.props,m=k.loadData,E=k.onLoad;if(!m||K.indexOf(r)!==-1||N.indexOf(r)!==-1)return null;var T=m(t);return T.then(function(){var D=e.state.loadedKeys,b=Q(D,r);E==null||E(b,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:b}),e.setState(function(L){return{loadingKeys:Y(L.loadingKeys,r)}}),p()}).catch(function(D){if(e.setState(function(L){return{loadingKeys:Y(L.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=tn){var b=e.state.loadedKeys;(0,J.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Q(b,r)}),p()}g(D)}),{loadingKeys:Q(N,r)}})});return c.catch(function(){}),c}}),h()(x()(e),"onNodeMouseEnter",function(t,n){var r=e.props.onMouseEnter;r==null||r({event:t,node:n})}),h()(x()(e),"onNodeMouseLeave",function(t,n){var r=e.props.onMouseLeave;r==null||r({event:t,node:n})}),h()(x()(e),"onNodeContextMenu",function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))}),h()(x()(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t==null||t.apply(void 0,r)}),h()(x()(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];t==null||t.apply(void 0,r)}),h()(x()(e),"getTreeNodeRequiredProps",function(){var t=e.state,n=t.expandedKeys,r=t.selectedKeys,o=t.loadedKeys,s=t.loadingKeys,c=t.checkedKeys,p=t.halfCheckedKeys,g=t.dragOverNodeKey,y=t.dropPosition,u=t.keyEntities;return{expandedKeys:n||[],selectedKeys:r||[],loadedKeys:o||[],loadingKeys:s||[],checkedKeys:c||[],halfCheckedKeys:p||[],dragOverNodeKey:g,dropPosition:y,keyEntities:u}}),h()(x()(e),"setExpandedKeys",function(t){var n=e.state,r=n.treeData,o=n.fieldNames,s=De(r,t,o);e.setUncontrolledState({expandedKeys:t,flattenNodes:s},!0)}),h()(x()(e),"onNodeExpand",function(t,n){var r=e.state.expandedKeys,o=e.state,s=o.listChanging,c=o.fieldNames,p=e.props,g=p.onExpand,y=p.loadData,u=n.expanded,K=n[c.key];if(!s){var C=r.indexOf(K),N=!u;if((0,J.ZP)(u&&C!==-1||!u&&C===-1,"Expand state not sync with index check"),N?r=Q(r,K):r=Y(r,K),e.setExpandedKeys(r),g==null||g(r,{node:n,expanded:N,nativeEvent:t.nativeEvent}),N&&y){var k=e.onNodeLoad(n);k&&k.then(function(){var m=De(e.state.treeData,r,c);e.setUncontrolledState({flattenNodes:m})}).catch(function(){var m=e.state.expandedKeys,E=Y(m,K);e.setExpandedKeys(E)})}}}),h()(x()(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),h()(x()(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),h()(x()(e),"onActiveChange",function(t){var n=e.state.activeKey,r=e.props,o=r.onActiveChange,s=r.itemScrollOffset,c=s===void 0?0:s;n!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:c}),o==null||o(t))}),h()(x()(e),"getActiveItem",function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return n===null?null:r.find(function(o){var s=o.key;return s===n})||null}),h()(x()(e),"offsetActiveKey",function(t){var n=e.state,r=n.flattenNodes,o=n.activeKey,s=r.findIndex(function(g){var y=g.key;return y===o});s===-1&&t<0&&(s=r.length),s=(s+t+r.length)%r.length;var c=r[s];if(c){var p=c.key;e.onActiveChange(p)}else e.onActiveChange(null)}),h()(x()(e),"onKeyDown",function(t){var n=e.state,r=n.activeKey,o=n.expandedKeys,s=n.checkedKeys,c=n.fieldNames,p=e.props,g=p.onKeyDown,y=p.checkable,u=p.selectable;switch(t.which){case ae.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case ae.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var K=e.getActiveItem();if(K&&K.data){var C=e.getTreeNodeRequiredProps(),N=K.data.isLeaf===!1||!!(K.data[c.children]||[]).length,k=A(P()(P()({},ue(r,C)),{},{data:K.data,active:!0}));switch(t.which){case ae.Z.LEFT:{N&&o.includes(r)?e.onNodeExpand({},k):K.parent&&e.onActiveChange(K.parent.key),t.preventDefault();break}case ae.Z.RIGHT:{N&&!o.includes(r)?e.onNodeExpand({},k):K.children&&K.children.length&&e.onActiveChange(K.children[0].key),t.preventDefault();break}case ae.Z.ENTER:case ae.Z.SPACE:{y&&!k.disabled&&k.checkable!==!1&&!k.disableCheckbox?e.onNodeCheck({},k,!s.includes(r)):!y&&u&&!k.disabled&&k.selectable!==!1&&e.onNodeSelect({},k);break}}}g==null||g(t)}),h()(x()(e),"setUncontrolledState",function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var o=!1,s=!0,c={};Object.keys(t).forEach(function(p){if(p in e.props){s=!1;return}o=!0,c[p]=t[p]}),o&&(!n||s)&&e.setState(P()(P()({},c),r))}}),h()(x()(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return je()(f,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props,l=d.activeKey,v=d.itemScrollOffset,t=v===void 0?0:v;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d=this.state,l=d.focused,v=d.flattenNodes,t=d.keyEntities,n=d.draggingNodeKey,r=d.activeKey,o=d.dropLevelOffset,s=d.dropContainerKey,c=d.dropTargetKey,p=d.dropPosition,g=d.dragOverNodeKey,y=d.indent,u=this.props,K=u.prefixCls,C=u.className,N=u.style,k=u.showLine,m=u.focusable,E=u.tabIndex,T=E===void 0?0:E,D=u.selectable,b=u.showIcon,L=u.icon,M=u.indentWidth,w=u.switcherIcon,I=u.draggable,j=u.checkable,W=u.checkStrictly,F=u.disabled,$=u.motion,Z=u.loadData,ne=u.filterTreeNode,oe=u.height,fe=u.itemHeight,ve=u.virtual,B=u.titleRender,re=u.dropIndicatorRender,z=u.onContextMenu,de=u.onScroll,Me=u.direction,ke=u.rootClassName,we=u.rootStyle,ie=(0,Ze.Z)(this.props,{aria:!0,data:!0}),se;return I&&(Ce()(I)==="object"?se=I:typeof I=="function"?se={nodeDraggable:I}:se={}),(0,O.jsx)(Ee.Provider,{value:{prefixCls:K,selectable:D,showIcon:b,icon:L,switcherIcon:w,draggable:se,draggingNodeKey:n,checkable:j,checkStrictly:W,disabled:F,keyEntities:t,dropLevelOffset:o,dropContainerKey:s,dropTargetKey:c,dropPosition:p,dragOverNodeKey:g,indent:y,indentWidth:M,direction:Me,dropIndicatorRender:re,loadData:Z,filterTreeNode:ne,titleRender:B,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop},children:(0,O.jsx)("div",{role:"tree",className:V()(K,C,ke,h()(h()(h()({},"".concat(K,"-show-line"),k),"".concat(K,"-focused"),l),"".concat(K,"-active-focused"),r!==null)),style:we,children:(0,O.jsx)(Bt,P()(P()({ref:this.listRef,prefixCls:K,style:N,data:v,disabled:F,selectable:D,checkable:!!j,indentWidth:M,motion:$,dragging:n!==null,height:oe,itemHeight:fe,virtual:ve,focusable:m,focused:l,tabIndex:T,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:z,onScroll:de},this.getTreeNodeRequiredProps()),ie))})})}}],[{key:"getDerivedStateFromProps",value:function(d,l){var v=l.prevProps,t={prevProps:d};function n(E){return!v&&E in d||v&&v[E]!==d[E]}var r,o=l.fieldNames;if(n("fieldNames")&&(o=xe(d.fieldNames),t.fieldNames=o),n("treeData")?r=d.treeData:n("children")&&((0,J.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=Lt(d.children)),r){t.treeData=r;var s=wt(r,{fieldNames:o});t.keyEntities=P()(h()({},te,Xe),s.keyEntities)}var c=t.keyEntities||l.keyEntities;if(n("expandedKeys")||v&&n("autoExpandParent"))t.expandedKeys=d.autoExpandParent||!v&&d.defaultExpandParent?nt(d.expandedKeys,c):d.expandedKeys;else if(!v&&d.defaultExpandAll){var p=P()({},c);delete p[te],t.expandedKeys=Object.keys(p).map(function(E){return p[E].key})}else!v&&d.defaultExpandedKeys&&(t.expandedKeys=d.autoExpandParent||d.defaultExpandParent?nt(d.defaultExpandedKeys,c):d.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var g=De(r||l.treeData,t.expandedKeys||l.expandedKeys,o);t.flattenNodes=g}if(d.selectable&&(n("selectedKeys")?t.selectedKeys=tt(d.selectedKeys,d):!v&&d.defaultSelectedKeys&&(t.selectedKeys=tt(d.defaultSelectedKeys,d))),d.checkable){var y;if(n("checkedKeys")?y=Te(d.checkedKeys)||{}:!v&&d.defaultCheckedKeys?y=Te(d.defaultCheckedKeys)||{}:r&&(y=Te(d.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),y){var u=y,K=u.checkedKeys,C=K===void 0?[]:K,N=u.halfCheckedKeys,k=N===void 0?[]:N;if(!d.checkStrictly){var m=Oe(C,!0,c);C=m.checkedKeys,k=m.halfCheckedKeys}t.checkedKeys=C,t.halfCheckedKeys=k}}return n("loadedKeys")&&(t.loadedKeys=d.loadedKeys),t}}]),f}(R.Component);h()(Le,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:xt,allowDrop:function(){return!0},expandAction:!1}),h()(Le,"TreeNode",Ne);var nn=Le,rn=nn}}]);
