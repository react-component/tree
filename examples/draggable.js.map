{"version":3,"sources":["webpack:///./examples/draggable.js","webpack:///./assets/draggable-demo.less"],"names":[],"mappings":"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","file":"draggable.js","sourcesContent":["import 'rc-tree/assets/index.less';\nimport 'rc-tree/assets/draggable-demo.less';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Tree, {TreeNode} from 'rc-tree';\n\nconst x = 4;\nconst y = 3;\nconst z = 2;\nconst gData = [];\n\nconst generateData = (_level, _preKey, _tns) => {\n  const preKey = _preKey || '0';\n  const tns = _tns || gData;\n\n  const children = [];\n  for (let i = 0; i < x; i++) {\n    const key = `${preKey}-${i}`;\n    tns.push({title: key, key: key});\n    if (i < y) {\n      children.push(key);\n    }\n  }\n  if (_level < 0) {\n    return tns;\n  }\n  const __level = _level - 1;\n  children.forEach((key, index) => {\n    tns[index].children = [];\n    return generateData(__level, key, tns[index].children);\n  });\n};\ngenerateData(z);\n\nclass TreeDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    ['handleDragStart', 'handleDragEnter', 'handleDrop', 'handleCheck', 'handleSelect'].forEach((m)=> {\n      this[m] = this[m].bind(this);\n    });\n    this.state = {\n      gData: gData,\n      expandedKeys: ['0-0', '0-0-0', '0-0-0-0'],\n      checkedKeys: [],\n      selectedKeys: [],\n    };\n  }\n  handleDragStart() {\n  }\n  handleDragEnter(info) {\n    // console.log(info);\n    this.setState({\n      expandedKeys: info.expandedKeys,\n    });\n  }\n  handleDrop(info) {\n    console.log(info);\n    const dropKey = info.node.props.eventKey;\n    const dragKey = info.dragNode.props.eventKey;\n    // const dragNodesKeys = info.dragNodesKeys;\n    const loop = (data, key, callback) => {\n      data.forEach((item, index, arr) => {\n        if (item.key === key) {\n          return callback(item, index, arr);\n        }\n        if (item.children) {\n          return loop(item.children, key, callback);\n        }\n      });\n    };\n    const data = [...this.state.gData];\n    let dragObj;\n    loop(data, dragKey, (item, index, arr) => {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n    if (info.dropToGap) {\n      let ar;\n      let i;\n      loop(data, dropKey, (item, index, arr) => {\n        ar = arr;\n        i = index;\n      });\n      ar.splice(i, 0, dragObj);\n    } else {\n      loop(data, dropKey, (item) => {\n        item.children = item.children || [];\n        // where to insert 示例添加到尾部，可以是随意位置\n        item.children.push(dragObj);\n      });\n    }\n    this.setState({\n      gData: data,\n    });\n  }\n  handleCheck(info) {\n    // console.log('check: ', info);\n    this.setState({\n      checkedKeys: [info.node.props.eventKey],\n    });\n  }\n  handleSelect(info) {\n    // console.log('selected: ', info);\n    this.setState({\n      selectedKeys: [info.node.props.eventKey],\n    });\n  }\n  render() {\n    const loop = data => {\n      return data.map((item) => {\n        if (item.children) {\n          return <TreeNode key={item.key} title={item.key}>{loop(item.children)}</TreeNode>;\n        }\n        return <TreeNode key={item.key} title={item.key} />;\n      });\n    };\n    return (<div className=\"draggable-demo\">\n      <h2>draggable </h2>\n      <p>drag a node into another node</p>\n      <div className=\"draggable-container\">\n        <Tree defaultExpandedKeys={this.state.expandedKeys} draggable\n              onTreeDragStart={this.handleDragStart} onTreeDragEnter={this.handleDragEnter} onTreeDrop={this.handleDrop}\n              checkable={false} onCheck={this.handleCheck} checkedKeys={this.state.checkedKeys}\n              onSelect={this.handleSelect} selectedKeys={this.state.selectedKeys}>\n          {loop(this.state.gData)}\n        </Tree>\n      </div>\n    </div>);\n  }\n}\n\nReactDOM.render(<TreeDemo />, document.getElementById('__react-content'));\n\n\n\n/** WEBPACK FOOTER **\n ** ./examples/draggable.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/draggable-demo.less\n ** module id = 220\n ** module chunks = 2\n **/"],"sourceRoot":""}