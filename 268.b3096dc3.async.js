"use strict";(self.webpackChunkrc_tree=self.webpackChunkrc_tree||[]).push([[268],{48092:function(gn,ft,T){T.d(ft,{OF:function(){return Le},ZP:function(){return hn}});var ut=T(31468),We=T.n(ut),vt=T(82242),L=T.n(vt),ht=T(37205),le=T.n(ht),gt=T(82100),yt=T.n(gt),pt=T(29186),Kt=T.n(pt),xt=T(13720),b=T.n(xt),mt=T(80619),Nt=T.n(mt),kt=T(47074),Ct=T.n(kt),Et=T(85573),m=T.n(Et),Dt=T(92310),z=T.n(Dt),ve=T(63773),Xe=T(79782),Q=T(48586),P=T(71062),Ze=P.createContext(null),St=P.createContext({}),w=T(99678),bt=function(n){var v=n.dropPosition,e=n.dropLevelOffset,d=n.indent,c={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(v){case-1:c.top=0,c.left=-e*d;break;case 1:c.bottom=0,c.left=-e*d;break;case 0:c.bottom=0,c.left=d;break}return(0,w.jsx)("div",{style:c})},Pt=bt,Tt=T(70236),Je=T.n(Tt),Ot=T(79800),q=T.n(Ot),Mt=T(39647),Te=T.n(Mt),Oe=T(59882),Lt=T(31277),wt=T(44516),Rt=function(n){for(var v=n.prefixCls,e=n.level,d=n.isStart,c=n.isEnd,y="".concat(v,"-indent-unit"),t=[],o=0;o<e;o+=1)t.push((0,w.jsx)("span",{className:z()(y,m()(m()({},"".concat(y,"-start"),d[o]),"".concat(y,"-end"),c[o]))},o));return(0,w.jsx)("span",{"aria-hidden":"true",className:"".concat(v,"-indent"),children:t})},At=P.memo(Rt);function H(a,n){return a[n]}var It=T(42661),$t=T(54907),jt=["children"];function Qe(a,n){return"".concat(a,"-").concat(n)}function Wt(a){return a&&a.type&&a.type.isTreeNode}function ke(a,n){return a!=null?a:n}function Me(a){var n=a||{},v=n.title,e=n._title,d=n.key,c=n.children,y=v||"title";return{title:y,_title:e||[y],key:d||"key",children:c||"children"}}function yn(a,n){var v=new Map;function e(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(d||[]).forEach(function(y){var t=y[n.key],o=y[n.children];warning(t!=null,"Tree node must have a certain key: [".concat(c).concat(t,"]"));var r=String(t);warning(!v.has(r)||t===null||t===void 0,"Same 'key' exist in the Tree: ".concat(r)),v.set(r,!0),e(o,"".concat(c).concat(r," > "))})}e(a)}function Zt(a){function n(v){var e=(0,It.Z)(v);return e.map(function(d){if(!Wt(d))return(0,Q.ZP)(!d,"Tree/TreeNode can only accept TreeNode as children."),null;var c=d.key,y=d.props,t=y.children,o=Te()(y,jt),r=L()({key:c},o),l=n(t);return l.length&&(r.children=l),r}).filter(function(d){return d})}return n(a)}function Fe(a,n,v){var e=Me(v),d=e._title,c=e.key,y=e.children,t=new Set(n===!0?[]:n),o=[];function r(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return l.map(function(u,h){for(var g=Qe(f?f.pos:"0",h),x=ke(u[c],g),s,p=0;p<d.length;p+=1){var N=d[p];if(u[N]!==void 0){s=u[N];break}}var K=Object.assign((0,$t.Z)(u,[].concat(le()(d),[c,y])),{title:s,key:x,parent:f,pos:g,children:null,data:u,isStart:[].concat(le()(f?f.isStart:[]),[h===0]),isEnd:[].concat(le()(f?f.isEnd:[]),[h===l.length-1])});return o.push(K),n===!0||t.has(x)?K.children=r(u[y]||[],K):K.children=[],K})}return r(a),o}function Ft(a,n,v){var e={};We()(v)==="object"?e=v:e={externalGetKey:v},e=e||{};var d=e,c=d.childrenPropName,y=d.externalGetKey,t=d.fieldNames,o=Me(t),r=o.key,l=o.children,f=c||l,u;y?typeof y=="string"?u=function(x){return x[y]}:typeof y=="function"&&(u=function(x){return y(x)}):u=function(x,s){return ke(x[r],s)};function h(g,x,s,p){var N=g?g[f]:a,K=g?Qe(s.pos,x):"0",C=g?[].concat(le()(p),[g]):[];if(g){var E=u(g,K),D={node:g,index:x,pos:K,key:E,parentPos:s.node?s.pos:null,level:s.level+1,nodes:C};n(D)}N&&N.forEach(function(S,O){h(S,O,{node:g,pos:K,level:s?s.level+1:-1},C)})}h(null)}function Ut(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=n.initWrapper,e=n.processEntity,d=n.onProcessFinished,c=n.externalGetKey,y=n.childrenPropName,t=n.fieldNames,o=arguments.length>2?arguments[2]:void 0,r=c||o,l={},f={},u={posEntities:l,keyEntities:f};return v&&(u=v(u)||u),Ft(a,function(h){var g=h.node,x=h.index,s=h.pos,p=h.key,N=h.parentPos,K=h.level,C=h.nodes,E={node:g,nodes:C,index:x,key:p,pos:s,level:K},D=ke(p,s);l[s]=E,f[D]=E,E.parent=l[N],E.parent&&(E.parent.children=E.parent.children||[],E.parent.children.push(E)),e&&e(E,u)},{externalGetKey:r,childrenPropName:y,fieldNames:t}),d&&d(u),u}function Ce(a,n){var v=n.expandedKeys,e=n.selectedKeys,d=n.loadedKeys,c=n.loadingKeys,y=n.checkedKeys,t=n.halfCheckedKeys,o=n.dragOverNodeKey,r=n.dropPosition,l=n.keyEntities,f=H(l,a),u={eventKey:a,expanded:v.indexOf(a)!==-1,selected:e.indexOf(a)!==-1,loaded:d.indexOf(a)!==-1,loading:c.indexOf(a)!==-1,checked:y.indexOf(a)!==-1,halfChecked:t.indexOf(a)!==-1,pos:String(f?f.pos:""),dragOver:o===a&&r===0,dragOverGapTop:o===a&&r===-1,dragOverGapBottom:o===a&&r===1};return u}function W(a){var n=a.data,v=a.expanded,e=a.selected,d=a.checked,c=a.loaded,y=a.loading,t=a.halfChecked,o=a.dragOver,r=a.dragOverGapTop,l=a.dragOverGapBottom,f=a.pos,u=a.active,h=a.eventKey,g=L()(L()({},n),{},{expanded:v,selected:e,checked:d,loaded:c,loading:y,halfChecked:t,dragOver:o,dragOverGapTop:r,dragOverGapBottom:l,pos:f,active:u,key:h});return"props"in g||Object.defineProperty(g,"props",{get:function(){return(0,Q.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),a}}),g}var Bt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],qe="open",_e="close",Gt="---",et=function(n){var v,e,d,c=n.eventKey,y=n.className,t=n.style,o=n.dragOver,r=n.dragOverGapTop,l=n.dragOverGapBottom,f=n.isLeaf,u=n.isStart,h=n.isEnd,g=n.expanded,x=n.selected,s=n.checked,p=n.halfChecked,N=n.loading,K=n.domRef,C=n.active,E=n.data,D=n.onMouseMove,S=n.selectable,O=Te()(n,Bt),i=P.useContext(Ze),R=P.useContext(St),F=P.useRef(null),A=P.useState(!1),I=q()(A,2),$=I[0],Z=I[1],j=!!(i.disabled||n.disabled||(v=R.nodeDisabled)!==null&&v!==void 0&&v.call(R,E)),U=P.useMemo(function(){return!i.checkable||n.checkable===!1?!1:i.checkable},[i.checkable,n.checkable]),ee=function(k){j||i.onNodeSelect(k,W(n))},he=function(k){j||!U||n.disableCheckbox||i.onNodeCheck(k,W(n),!s)},ge=P.useMemo(function(){return typeof S=="boolean"?S:i.selectable},[S,i.selectable]),ye=function(k){i.onNodeClick(k,W(n)),ge?ee(k):he(k)},pe=function(k){i.onNodeDoubleClick(k,W(n))},Ke=function(k){i.onNodeMouseEnter(k,W(n))},ce=function(k){i.onNodeMouseLeave(k,W(n))},X=function(k){i.onNodeContextMenu(k,W(n))},V=P.useMemo(function(){return!!(i.draggable&&(!i.draggable.nodeDraggable||i.draggable.nodeDraggable(E)))},[i.draggable,E]),Ee=function(k){k.stopPropagation(),Z(!0),i.onNodeDragStart(k,n);try{k.dataTransfer.setData("text/plain","")}catch(Y){}},xe=function(k){k.preventDefault(),k.stopPropagation(),i.onNodeDragEnter(k,n)},De=function(k){k.preventDefault(),k.stopPropagation(),i.onNodeDragOver(k,n)},te=function(k){k.stopPropagation(),i.onNodeDragLeave(k,n)},ne=function(k){k.stopPropagation(),Z(!1),i.onNodeDragEnd(k,n)},me=function(k){k.preventDefault(),k.stopPropagation(),Z(!1),i.onNodeDrop(k,n)},Ye=function(k){N||i.onNodeExpand(k,W(n))},fe=P.useMemo(function(){var M=H(i.keyEntities,c)||{},k=M.children;return!!(k||[]).length},[i.keyEntities,c]),ae=P.useMemo(function(){return f===!1?!1:f||!i.loadData&&!fe||i.loadData&&n.loaded&&!fe},[f,i.loadData,fe,n.loaded]);P.useEffect(function(){N||typeof i.loadData=="function"&&g&&!ae&&!n.loaded&&i.onNodeLoad(W(n))},[N,i.loadData,i.onNodeLoad,g,ae,n]);var we=P.useMemo(function(){var M;return(M=i.draggable)!==null&&M!==void 0&&M.icon?(0,w.jsx)("span",{className:"".concat(i.prefixCls,"-draggable-icon"),children:i.draggable.icon}):null},[i.draggable]),Re=function(k){var Y=n.switcherIcon||i.switcherIcon;return typeof Y=="function"?Y(L()(L()({},n),{},{isLeaf:k})):Y},Se=function(){if(ae){var k=Re(!0);return k!==!1?(0,w.jsx)("span",{className:z()("".concat(i.prefixCls,"-switcher"),"".concat(i.prefixCls,"-switcher-noop")),children:k}):null}var Y=Re(!1);return Y!==!1?(0,w.jsx)("span",{onClick:Ye,className:z()("".concat(i.prefixCls,"-switcher"),"".concat(i.prefixCls,"-switcher_").concat(g?qe:_e)),children:Y}):null},Ae=P.useMemo(function(){if(!U)return null;var M=typeof U!="boolean"?U:null;return(0,w.jsx)("span",{className:z()("".concat(i.prefixCls,"-checkbox"),m()(m()(m()({},"".concat(i.prefixCls,"-checkbox-checked"),s),"".concat(i.prefixCls,"-checkbox-indeterminate"),!s&&p),"".concat(i.prefixCls,"-checkbox-disabled"),j||n.disableCheckbox)),onClick:he,role:"checkbox","aria-checked":p?"mixed":s,"aria-disabled":j||n.disableCheckbox,"aria-label":"Select ".concat(typeof n.title=="string"?n.title:"tree node"),children:M})},[U,s,p,j,n.disableCheckbox,n.title]),re=P.useMemo(function(){return ae?null:g?qe:_e},[ae,g]),be=P.useMemo(function(){return(0,w.jsx)("span",{className:z()("".concat(i.prefixCls,"-iconEle"),"".concat(i.prefixCls,"-icon__").concat(re||"docu"),m()({},"".concat(i.prefixCls,"-icon_loading"),N))})},[i.prefixCls,re,N]),Ie=P.useMemo(function(){var M=!!i.draggable,k=!n.disabled&&M&&i.dragOverNodeKey===c;return k?i.dropIndicatorRender({dropPosition:i.dropPosition,dropLevelOffset:i.dropLevelOffset,indent:i.indent,prefixCls:i.prefixCls,direction:i.direction}):null},[i.dropPosition,i.dropLevelOffset,i.indent,i.prefixCls,i.direction,i.draggable,i.dragOverNodeKey,i.dropIndicatorRender]),G=P.useMemo(function(){var M=n.title,k=M===void 0?Gt:M,Y="".concat(i.prefixCls,"-node-content-wrapper"),ze;if(i.showIcon){var $e=n.icon||i.icon;ze=$e?(0,w.jsx)("span",{className:z()("".concat(i.prefixCls,"-iconEle"),"".concat(i.prefixCls,"-icon__customize")),children:typeof $e=="function"?$e(n):$e}):be}else i.loadData&&N&&(ze=be);var je;return typeof k=="function"?je=k(E):i.titleRender?je=i.titleRender(E):je=k,(0,w.jsxs)("span",{ref:F,title:typeof k=="string"?k:"",className:z()(Y,"".concat(Y,"-").concat(re||"normal"),m()({},"".concat(i.prefixCls,"-node-selected"),!j&&(x||$))),onMouseEnter:Ke,onMouseLeave:ce,onContextMenu:X,onClick:ye,onDoubleClick:pe,children:[ze,(0,w.jsx)("span",{className:"".concat(i.prefixCls,"-title"),children:je}),Ie]})},[i.prefixCls,i.showIcon,n,i.icon,be,i.titleRender,E,re,Ke,ce,X,ye,pe]),B=(0,Xe.Z)(O,{aria:!0,data:!0}),oe=H(i.keyEntities,c)||{},de=oe.level,Pe=h[h.length-1],ie=!j&&V,Ne=i.draggingNodeKey===c,ue=S!==void 0?{"aria-selected":!!S}:void 0;return(0,w.jsxs)("div",L()(L()(L()({ref:K,role:"treeitem","aria-expanded":f?void 0:g,className:z()(y,"".concat(i.prefixCls,"-treenode"),(d={},m()(m()(m()(m()(m()(m()(m()(m()(m()(m()(d,"".concat(i.prefixCls,"-treenode-disabled"),j),"".concat(i.prefixCls,"-treenode-switcher-").concat(g?"open":"close"),!f),"".concat(i.prefixCls,"-treenode-checkbox-checked"),s),"".concat(i.prefixCls,"-treenode-checkbox-indeterminate"),p),"".concat(i.prefixCls,"-treenode-selected"),x),"".concat(i.prefixCls,"-treenode-loading"),N),"".concat(i.prefixCls,"-treenode-active"),C),"".concat(i.prefixCls,"-treenode-leaf-last"),Pe),"".concat(i.prefixCls,"-treenode-draggable"),V),"dragging",Ne),m()(m()(m()(m()(m()(m()(m()(d,"drop-target",i.dropTargetKey===c),"drop-container",i.dropContainerKey===c),"drag-over",!j&&o),"drag-over-gap-top",!j&&r),"drag-over-gap-bottom",!j&&l),"filter-node",(e=i.filterTreeNode)===null||e===void 0?void 0:e.call(i,W(n))),"".concat(i.prefixCls,"-treenode-leaf"),ae))),style:t,draggable:ie,onDragStart:ie?Ee:void 0,onDragEnter:V?xe:void 0,onDragOver:V?De:void 0,onDragLeave:V?te:void 0,onDrop:V?me:void 0,onDragEnd:V?ne:void 0,onMouseMove:D},ue),B),{},{children:[(0,w.jsx)(At,{prefixCls:i.prefixCls,level:de,isStart:u,isEnd:h}),we,Se(),Ae,G]}))};et.isTreeNode=1;var Le=et;function Ht(a,n){var v=P.useState(!1),e=q()(v,2),d=e[0],c=e[1];(0,Oe.ZP)(function(){if(d)return a(),function(){n()}},[d]),(0,Oe.ZP)(function(){return c(!0),function(){c(!1)}},[])}var Vt=Ht,Yt=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],zt=P.forwardRef(function(a,n){var v=a.className,e=a.style,d=a.motion,c=a.motionNodes,y=a.motionType,t=a.onMotionStart,o=a.onMotionEnd,r=a.active,l=a.treeNodeRequiredProps,f=Te()(a,Yt),u=P.useState(!0),h=q()(u,2),g=h[0],x=h[1],s=P.useContext(Ze),p=s.prefixCls,N=c&&y!=="hide";(0,Oe.ZP)(function(){c&&N!==g&&x(N)},[c]);var K=function(){c&&t()},C=P.useRef(!1),E=function(){c&&!C.current&&(C.current=!0,o())};Vt(K,E);var D=function(O){N===O&&E()};return c?(0,w.jsx)(wt.ZP,L()(L()({ref:n,visible:g},d),{},{motionAppear:y==="show",onVisibleChanged:D,children:function(O,i){var R=O.className,F=O.style;return(0,w.jsx)("div",{ref:i,className:z()("".concat(p,"-treenode-motion"),R),style:F,children:c.map(function(A){var I=Object.assign({},(Je()(A.data),A.data)),$=A.title,Z=A.key,j=A.isStart,U=A.isEnd;delete I.children;var ee=Ce(Z,l);return(0,P.createElement)(Le,L()(L()(L()({},I),ee),{},{title:$,active:r,data:A.data,key:Z,isStart:j,isEnd:U}))})})}})):(0,w.jsx)(Le,L()(L()({domRef:n,className:v,style:e},f),{},{active:r}))}),Xt=zt;function Jt(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=a.length,e=n.length;if(Math.abs(v-e)!==1)return{add:!1,key:null};function d(c,y){var t=new Map;c.forEach(function(r){t.set(r,!0)});var o=y.filter(function(r){return!t.has(r)});return o.length===1?o[0]:null}return v<e?{add:!0,key:d(a,n)}:{add:!1,key:d(n,a)}}function tt(a,n,v){var e=a.findIndex(function(t){return t.key===v}),d=a[e+1],c=n.findIndex(function(t){return t.key===v});if(d){var y=n.findIndex(function(t){return t.key===d.key});return n.slice(c+1,y)}return n.slice(c+1)}var Qt=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],nt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},qt=function(){},se="RC_TREE_MOTION_".concat(Math.random()),Ue={key:se},at={key:se,level:0,index:0,pos:"0",node:Ue,nodes:[Ue]},rt={parent:null,children:[],pos:at.pos,data:Ue,title:null,key:se,isStart:[],isEnd:[]};function ot(a,n,v,e){return n===!1||!v?a:a.slice(0,Math.ceil(v/e)+1)}function dt(a){var n=a.key,v=a.pos;return ke(n,v)}function _t(a){for(var n=String(a.data.key),v=a;v.parent;)v=v.parent,n="".concat(v.data.key," > ").concat(n);return n}var en=P.forwardRef(function(a,n){var v=a.prefixCls,e=a.data,d=a.selectable,c=a.checkable,y=a.expandedKeys,t=a.selectedKeys,o=a.checkedKeys,r=a.loadedKeys,l=a.loadingKeys,f=a.halfCheckedKeys,u=a.keyEntities,h=a.disabled,g=a.dragging,x=a.dragOverNodeKey,s=a.dropPosition,p=a.motion,N=a.height,K=a.itemHeight,C=a.virtual,E=a.scrollWidth,D=a.focusable,S=a.activeItem,O=a.focused,i=a.tabIndex,R=a.onKeyDown,F=a.onFocus,A=a.onBlur,I=a.onActiveChange,$=a.onListChangeStart,Z=a.onListChangeEnd,j=Te()(a,Qt),U=P.useRef(null),ee=P.useRef(null);P.useImperativeHandle(n,function(){return{scrollTo:function(B){U.current.scrollTo(B)},getIndentWidth:function(){return ee.current.offsetWidth}}});var he=P.useState(y),ge=q()(he,2),ye=ge[0],pe=ge[1],Ke=P.useState(e),ce=q()(Ke,2),X=ce[0],V=ce[1],Ee=P.useState(e),xe=q()(Ee,2),De=xe[0],te=xe[1],ne=P.useState([]),me=q()(ne,2),Ye=me[0],fe=me[1],ae=P.useState(null),we=q()(ae,2),Re=we[0],Se=we[1],Ae=P.useRef(e);Ae.current=e;function re(){var G=Ae.current;V(G),te(G),fe([]),Se(null),Z()}(0,Oe.ZP)(function(){pe(y);var G=Jt(ye,y);if(G.key!==null)if(G.add){var B=X.findIndex(function(ue){var M=ue.key;return M===G.key}),oe=ot(tt(X,e,G.key),C,N,K),de=X.slice();de.splice(B+1,0,rt),te(de),fe(oe),Se("show")}else{var Pe=e.findIndex(function(ue){var M=ue.key;return M===G.key}),ie=ot(tt(e,X,G.key),C,N,K),Ne=e.slice();Ne.splice(Pe+1,0,rt),te(Ne),fe(ie),Se("hide")}else X!==e&&(V(e),te(e))},[y,e]),P.useEffect(function(){g||re()},[g]);var be=p?De:e,Ie={expandedKeys:y,selectedKeys:t,loadedKeys:r,loadingKeys:l,checkedKeys:o,halfCheckedKeys:f,dragOverNodeKey:x,dropPosition:s,keyEntities:u};return(0,w.jsxs)(w.Fragment,{children:[O&&S&&(0,w.jsx)("span",{style:nt,"aria-live":"assertive",children:_t(S)}),(0,w.jsx)("div",{children:(0,w.jsx)("input",{style:nt,disabled:D===!1||h,tabIndex:D!==!1?i:null,onKeyDown:R,onFocus:F,onBlur:A,value:"",onChange:qt,"aria-label":"for screen reader"})}),(0,w.jsx)("div",{className:"".concat(v,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0},children:(0,w.jsx)("div",{className:"".concat(v,"-indent"),children:(0,w.jsx)("div",{ref:ee,className:"".concat(v,"-indent-unit")})})}),(0,w.jsx)(Lt.Z,L()(L()({},j),{},{data:be,itemKey:dt,height:N,fullHeight:!1,virtual:C,itemHeight:K,scrollWidth:E,prefixCls:"".concat(v,"-list"),ref:U,role:"tree",onVisibleChange:function(B){B.every(function(oe){return dt(oe)!==se})&&re()},children:function(B){var oe=B.pos,de=Object.assign({},(Je()(B.data),B.data)),Pe=B.title,ie=B.key,Ne=B.isStart,ue=B.isEnd,M=ke(ie,oe);delete de.key,delete de.children;var k=Ce(M,Ie);return(0,w.jsx)(Xt,L()(L()(L()({},de),k),{},{title:Pe,active:!!S&&ie===S.key,pos:oe,data:B.data,isStart:Ne,isEnd:ue,motion:p,motionNodes:ie===se?Ye:null,motionType:Re,onMotionStart:$,onMotionEnd:re,treeNodeRequiredProps:Ie,onMouseMove:function(){I(null)}}))}}))]})}),tn=en,nn=null;function J(a,n){if(!a)return[];var v=a.slice(),e=v.indexOf(n);return e>=0&&v.splice(e,1),v}function _(a,n){var v=(a||[]).slice();return v.indexOf(n)===-1&&v.push(n),v}function Be(a){return a.split("-")}function an(a,n){var v=[],e=H(n,a);function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(y){var t=y.key,o=y.children;v.push(t),d(o)})}return d(e.children),v}function rn(a){if(a.parent){var n=Be(a.pos);return Number(n[n.length-1])===a.parent.children.length-1}return!1}function on(a){var n=Be(a.pos);return Number(n[n.length-1])===0}function it(a,n,v,e,d,c,y,t,o,r){var l,f=a.clientX,u=a.clientY,h=a.target.getBoundingClientRect(),g=h.top,x=h.height,s=(r==="rtl"?-1:1)*(((d==null?void 0:d.x)||0)-f),p=(s-12)/e,N=o.filter(function(j){var U;return(U=t[j])===null||U===void 0||(U=U.children)===null||U===void 0?void 0:U.length}),K=H(t,v.eventKey);if(u<g+x/2){var C=y.findIndex(function(j){return j.key===K.key}),E=C<=0?0:C-1,D=y[E].key;K=H(t,D)}var S=K.key,O=K,i=K.key,R=0,F=0;if(!N.includes(S))for(var A=0;A<p&&rn(K);A+=1)K=K.parent,F+=1;var I=n.data,$=K.node,Z=!0;return on(K)&&K.level===0&&u<g+x/2&&c({dragNode:I,dropNode:$,dropPosition:-1})&&K.key===v.eventKey?R=-1:(O.children||[]).length&&N.includes(i)?c({dragNode:I,dropNode:$,dropPosition:0})?R=0:Z=!1:F===0?p>-1.5?c({dragNode:I,dropNode:$,dropPosition:1})?R=1:Z=!1:c({dragNode:I,dropNode:$,dropPosition:0})?R=0:c({dragNode:I,dropNode:$,dropPosition:1})?R=1:Z=!1:c({dragNode:I,dropNode:$,dropPosition:1})?R=1:Z=!1,{dropPosition:R,dropLevelOffset:F,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:i,dropContainerKey:R===0?null:((l=K.parent)===null||l===void 0?void 0:l.key)||null,dropAllowed:Z}}function lt(a,n){if(a){var v=n.multiple;return v?a.slice():a.length?[a[0]]:a}}var dn=function(n){return n};function ln(a,n){if(!a)return[];var v=n||{},e=v.processProps,d=e===void 0?dn:e,c=Array.isArray(a)?a:[a];return c.map(function(y){var t=y.children,o=_objectWithoutProperties(y,nn),r=ln(t,n);return _jsx(TreeNode,_objectSpread(_objectSpread({},d(o)),{},{children:r}),o.key)})}function Ge(a){if(!a)return null;var n;if(Array.isArray(a))n={checkedKeys:a,halfCheckedKeys:void 0};else if(We()(a)==="object")n={checkedKeys:a.checked||void 0,halfCheckedKeys:a.halfChecked||void 0};else return(0,Q.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return n}function st(a,n){var v=new Set;function e(d){if(!v.has(d)){var c=H(n,d);if(c){v.add(d);var y=c.parent,t=c.node;t.disabled||y&&e(y.key)}}}return(a||[]).forEach(function(d){e(d)}),le()(v)}function ct(a,n){var v=new Set;return a.forEach(function(e){n.has(e)||v.add(e)}),v}function sn(a){var n=a||{},v=n.disabled,e=n.disableCheckbox,d=n.checkable;return!!(v||e)||d===!1}function cn(a,n,v,e){for(var d=new Set(a),c=new Set,y=0;y<=v;y+=1){var t=n.get(y)||new Set;t.forEach(function(f){var u=f.key,h=f.node,g=f.children,x=g===void 0?[]:g;d.has(u)&&!e(h)&&x.filter(function(s){return!e(s.node)}).forEach(function(s){d.add(s.key)})})}for(var o=new Set,r=v;r>=0;r-=1){var l=n.get(r)||new Set;l.forEach(function(f){var u=f.parent,h=f.node;if(!(e(h)||!f.parent||o.has(f.parent.key))){if(e(f.parent.node)){o.add(u.key);return}var g=!0,x=!1;(u.children||[]).filter(function(s){return!e(s.node)}).forEach(function(s){var p=s.key,N=d.has(p);g&&!N&&(g=!1),!x&&(N||c.has(p))&&(x=!0)}),g&&d.add(u.key),x&&c.add(u.key),o.add(u.key)}})}return{checkedKeys:Array.from(d),halfCheckedKeys:Array.from(ct(c,d))}}function fn(a,n,v,e,d){for(var c=new Set(a),y=new Set(n),t=0;t<=e;t+=1){var o=v.get(t)||new Set;o.forEach(function(u){var h=u.key,g=u.node,x=u.children,s=x===void 0?[]:x;!c.has(h)&&!y.has(h)&&!d(g)&&s.filter(function(p){return!d(p.node)}).forEach(function(p){c.delete(p.key)})})}y=new Set;for(var r=new Set,l=e;l>=0;l-=1){var f=v.get(l)||new Set;f.forEach(function(u){var h=u.parent,g=u.node;if(!(d(g)||!u.parent||r.has(u.parent.key))){if(d(u.parent.node)){r.add(h.key);return}var x=!0,s=!1;(h.children||[]).filter(function(p){return!d(p.node)}).forEach(function(p){var N=p.key,K=c.has(N);x&&!K&&(x=!1),!s&&(K||y.has(N))&&(s=!0)}),x||c.delete(h.key),s&&y.add(h.key),r.add(h.key)}})}return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(ct(y,c))}}function He(a,n,v,e){var d=[],c;e?c=e:c=sn;var y=new Set(a.filter(function(l){var f=!!H(v,l);return f||d.push(l),f})),t=new Map,o=0;Object.keys(v).forEach(function(l){var f=v[l],u=f.level,h=t.get(u);h||(h=new Set,t.set(u,h)),h.add(f),o=Math.max(o,u)}),(0,Q.ZP)(!d.length,"Tree missing follow keys: ".concat(d.slice(0,100).map(function(l){return"'".concat(l,"'")}).join(", ")));var r;return n===!0?r=cn(y,t,o,c):r=fn(y,n.halfCheckedKeys,t,o,c),r}var un=10,Ve=function(a){Nt()(v,a);var n=Ct()(v);function v(){var e;yt()(this,v);for(var d=arguments.length,c=new Array(d),y=0;y<d;y++)c[y]=arguments[y];return e=n.call.apply(n,[this].concat(c)),m()(b()(e),"destroyed",!1),m()(b()(e),"delayedDragEnterLogic",void 0),m()(b()(e),"loadingRetryTimes",{}),m()(b()(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Me()}),m()(b()(e),"dragStartMousePosition",null),m()(b()(e),"dragNodeProps",null),m()(b()(e),"currentMouseOverDroppableNodeKey",null),m()(b()(e),"listRef",P.createRef()),m()(b()(e),"onNodeDragStart",function(t,o){var r=e.state,l=r.expandedKeys,f=r.keyEntities,u=e.props.onDragStart,h=o.eventKey;e.dragNodeProps=o,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=J(l,h);e.setState({draggingNodeKey:h,dragChildrenKeys:an(h,f),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),u==null||u({event:t,node:W(o)})}),m()(b()(e),"onNodeDragEnter",function(t,o){var r=e.state,l=r.expandedKeys,f=r.keyEntities,u=r.dragChildrenKeys,h=r.flattenNodes,g=r.indent,x=e.props,s=x.onDragEnter,p=x.onExpand,N=x.allowDrop,K=x.direction,C=o.pos,E=o.eventKey;if(e.currentMouseOverDroppableNodeKey!==E&&(e.currentMouseOverDroppableNodeKey=E),!e.dragNodeProps){e.resetDragState();return}var D=it(t,e.dragNodeProps,o,g,e.dragStartMousePosition,N,h,f,l,K),S=D.dropPosition,O=D.dropLevelOffset,i=D.dropTargetKey,R=D.dropContainerKey,F=D.dropTargetPos,A=D.dropAllowed,I=D.dragOverNodeKey;if(u.includes(i)||!A){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function($){clearTimeout(e.delayedDragEnterLogic[$])}),e.dragNodeProps.eventKey!==o.eventKey&&(t.persist(),e.delayedDragEnterLogic[C]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var $=le()(l),Z=H(f,o.eventKey);Z&&(Z.children||[]).length&&($=_(l,o.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys($),p==null||p($,{node:W(o),expanded:!0,nativeEvent:t.nativeEvent})}},800)),e.dragNodeProps.eventKey===i&&O===0){e.resetDragState();return}e.setState({dragOverNodeKey:I,dropPosition:S,dropLevelOffset:O,dropTargetKey:i,dropContainerKey:R,dropTargetPos:F,dropAllowed:A}),s==null||s({event:t,node:W(o),expandedKeys:l})}),m()(b()(e),"onNodeDragOver",function(t,o){var r=e.state,l=r.dragChildrenKeys,f=r.flattenNodes,u=r.keyEntities,h=r.expandedKeys,g=r.indent,x=e.props,s=x.onDragOver,p=x.allowDrop,N=x.direction;if(e.dragNodeProps){var K=it(t,e.dragNodeProps,o,g,e.dragStartMousePosition,p,f,u,h,N),C=K.dropPosition,E=K.dropLevelOffset,D=K.dropTargetKey,S=K.dropContainerKey,O=K.dropTargetPos,i=K.dropAllowed,R=K.dragOverNodeKey;l.includes(D)||!i||(e.dragNodeProps.eventKey===D&&E===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():C===e.state.dropPosition&&E===e.state.dropLevelOffset&&D===e.state.dropTargetKey&&S===e.state.dropContainerKey&&O===e.state.dropTargetPos&&i===e.state.dropAllowed&&R===e.state.dragOverNodeKey||e.setState({dropPosition:C,dropLevelOffset:E,dropTargetKey:D,dropContainerKey:S,dropTargetPos:O,dropAllowed:i,dragOverNodeKey:R}),s==null||s({event:t,node:W(o)}))}}),m()(b()(e),"onNodeDragLeave",function(t,o){e.currentMouseOverDroppableNodeKey===o.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:t,node:W(o)})}),m()(b()(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),m()(b()(e),"onNodeDragEnd",function(t,o){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:t,node:W(o)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),m()(b()(e),"onNodeDrop",function(t,o){var r,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=e.state,u=f.dragChildrenKeys,h=f.dropPosition,g=f.dropTargetKey,x=f.dropTargetPos,s=f.dropAllowed;if(s){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var N=L()(L()({},Ce(g,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===g,data:H(e.state.keyEntities,g).node}),K=u.includes(g);(0,Q.ZP)(!K,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var C=Be(x),E={event:t,node:W(N),dragNode:e.dragNodeProps?W(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(u),dropToGap:h!==0,dropPosition:h+Number(C[C.length-1])};l||p==null||p(E),e.dragNodeProps=null}}}),m()(b()(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),m()(b()(e),"triggerExpandActionExpand",function(t,o){var r=e.state,l=r.expandedKeys,f=r.flattenNodes,u=o.expanded,h=o.key,g=o.isLeaf;if(!(g||t.shiftKey||t.metaKey||t.ctrlKey)){var x=f.filter(function(p){return p.key===h})[0],s=W(L()(L()({},Ce(h,e.getTreeNodeRequiredProps())),{},{data:x.data}));e.setExpandedKeys(u?J(l,h):_(l,h)),e.onNodeExpand(t,s)}}),m()(b()(e),"onNodeClick",function(t,o){var r=e.props,l=r.onClick,f=r.expandAction;f==="click"&&e.triggerExpandActionExpand(t,o),l==null||l(t,o)}),m()(b()(e),"onNodeDoubleClick",function(t,o){var r=e.props,l=r.onDoubleClick,f=r.expandAction;f==="doubleClick"&&e.triggerExpandActionExpand(t,o),l==null||l(t,o)}),m()(b()(e),"onNodeSelect",function(t,o){var r=e.state.selectedKeys,l=e.state,f=l.keyEntities,u=l.fieldNames,h=e.props,g=h.onSelect,x=h.multiple,s=o.selected,p=o[u.key],N=!s;N?x?r=_(r,p):r=[p]:r=J(r,p);var K=r.map(function(C){var E=H(f,C);return E?E.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:r}),g==null||g(r,{event:"select",selected:N,node:o,selectedNodes:K,nativeEvent:t.nativeEvent})}),m()(b()(e),"onNodeCheck",function(t,o,r){var l=e.state,f=l.keyEntities,u=l.checkedKeys,h=l.halfCheckedKeys,g=e.props,x=g.checkStrictly,s=g.onCheck,p=o.key,N,K={event:"check",node:o,checked:r,nativeEvent:t.nativeEvent};if(x){var C=r?_(u,p):J(u,p),E=J(h,p);N={checked:C,halfChecked:E},K.checkedNodes=C.map(function(F){return H(f,F)}).filter(Boolean).map(function(F){return F.node}),e.setUncontrolledState({checkedKeys:C})}else{var D=He([].concat(le()(u),[p]),!0,f),S=D.checkedKeys,O=D.halfCheckedKeys;if(!r){var i=new Set(S);i.delete(p);var R=He(Array.from(i),{checked:!1,halfCheckedKeys:O},f);S=R.checkedKeys,O=R.halfCheckedKeys}N=S,K.checkedNodes=[],K.checkedNodesPositions=[],K.halfCheckedKeys=O,S.forEach(function(F){var A=H(f,F);if(A){var I=A.node,$=A.pos;K.checkedNodes.push(I),K.checkedNodesPositions.push({node:I,pos:$})}}),e.setUncontrolledState({checkedKeys:S},!1,{halfCheckedKeys:O})}s==null||s(N,K)}),m()(b()(e),"onNodeLoad",function(t){var o,r=t.key,l=e.state.keyEntities,f=H(l,r);if(!(f!=null&&(o=f.children)!==null&&o!==void 0&&o.length)){var u=new Promise(function(h,g){e.setState(function(x){var s=x.loadedKeys,p=s===void 0?[]:s,N=x.loadingKeys,K=N===void 0?[]:N,C=e.props,E=C.loadData,D=C.onLoad;if(!E||p.includes(r)||K.includes(r))return null;var S=E(t);return S.then(function(){var O=e.state.loadedKeys,i=_(O,r);D==null||D(i,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:i}),e.setState(function(R){return{loadingKeys:J(R.loadingKeys,r)}}),h()}).catch(function(O){if(e.setState(function(R){return{loadingKeys:J(R.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=un){var i=e.state.loadedKeys;(0,Q.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:_(i,r)}),h()}g(O)}),{loadingKeys:_(K,r)}})});return u.catch(function(){}),u}}),m()(b()(e),"onNodeMouseEnter",function(t,o){var r=e.props.onMouseEnter;r==null||r({event:t,node:o})}),m()(b()(e),"onNodeMouseLeave",function(t,o){var r=e.props.onMouseLeave;r==null||r({event:t,node:o})}),m()(b()(e),"onNodeContextMenu",function(t,o){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:o}))}),m()(b()(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];t==null||t.apply(void 0,r)}),m()(b()(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];t==null||t.apply(void 0,r)}),m()(b()(e),"getTreeNodeRequiredProps",function(){var t=e.state,o=t.expandedKeys,r=t.selectedKeys,l=t.loadedKeys,f=t.loadingKeys,u=t.checkedKeys,h=t.halfCheckedKeys,g=t.dragOverNodeKey,x=t.dropPosition,s=t.keyEntities;return{expandedKeys:o||[],selectedKeys:r||[],loadedKeys:l||[],loadingKeys:f||[],checkedKeys:u||[],halfCheckedKeys:h||[],dragOverNodeKey:g,dropPosition:x,keyEntities:s}}),m()(b()(e),"setExpandedKeys",function(t){var o=e.state,r=o.treeData,l=o.fieldNames,f=Fe(r,t,l);e.setUncontrolledState({expandedKeys:t,flattenNodes:f},!0)}),m()(b()(e),"onNodeExpand",function(t,o){var r=e.state.expandedKeys,l=e.state,f=l.listChanging,u=l.fieldNames,h=e.props,g=h.onExpand,x=h.loadData,s=o.expanded,p=o[u.key];if(!f){var N=r.includes(p),K=!s;if((0,Q.ZP)(s&&N||!s&&!N,"Expand state not sync with index check"),r=K?_(r,p):J(r,p),e.setExpandedKeys(r),g==null||g(r,{node:o,expanded:K,nativeEvent:t.nativeEvent}),K&&x){var C=e.onNodeLoad(o);C&&C.then(function(){var E=Fe(e.state.treeData,r,u);e.setUncontrolledState({flattenNodes:E})}).catch(function(){var E=e.state.expandedKeys,D=J(E,p);e.setExpandedKeys(D)})}}}),m()(b()(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),m()(b()(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),m()(b()(e),"onActiveChange",function(t){var o=e.state.activeKey,r=e.props,l=r.onActiveChange,f=r.itemScrollOffset,u=f===void 0?0:f;o!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:u}),l==null||l(t))}),m()(b()(e),"getActiveItem",function(){var t=e.state,o=t.activeKey,r=t.flattenNodes;return o===null?null:r.find(function(l){var f=l.key;return f===o})||null}),m()(b()(e),"offsetActiveKey",function(t){var o=e.state,r=o.flattenNodes,l=o.activeKey,f=r.findIndex(function(g){var x=g.key;return x===l});f===-1&&t<0&&(f=r.length),f=(f+t+r.length)%r.length;var u=r[f];if(u){var h=u.key;e.onActiveChange(h)}else e.onActiveChange(null)}),m()(b()(e),"onKeyDown",function(t){var o=e.state,r=o.activeKey,l=o.expandedKeys,f=o.checkedKeys,u=o.fieldNames,h=e.props,g=h.onKeyDown,x=h.checkable,s=h.selectable;switch(t.which){case ve.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case ve.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var p=e.getActiveItem();if(p&&p.data){var N=e.getTreeNodeRequiredProps(),K=p.data.isLeaf===!1||!!(p.data[u.children]||[]).length,C=W(L()(L()({},Ce(r,N)),{},{data:p.data,active:!0}));switch(t.which){case ve.Z.LEFT:{K&&l.includes(r)?e.onNodeExpand({},C):p.parent&&e.onActiveChange(p.parent.key),t.preventDefault();break}case ve.Z.RIGHT:{K&&!l.includes(r)?e.onNodeExpand({},C):p.children&&p.children.length&&e.onActiveChange(p.children[0].key),t.preventDefault();break}case ve.Z.ENTER:case ve.Z.SPACE:{x&&!C.disabled&&C.checkable!==!1&&!C.disableCheckbox?e.onNodeCheck({},C,!f.includes(r)):!x&&s&&!C.disabled&&C.selectable!==!1&&e.onNodeSelect({},C);break}}}g==null||g(t)}),m()(b()(e),"setUncontrolledState",function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var l=!1,f=!0,u={};Object.keys(t).forEach(function(h){if(e.props.hasOwnProperty(h)){f=!1;return}l=!0,u[h]=t[h]}),l&&(!o||f)&&e.setState(L()(L()({},u),r))}}),m()(b()(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return Kt()(v,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var d=this.props,c=d.activeKey,y=d.itemScrollOffset,t=y===void 0?0:y;c!==void 0&&c!==this.state.activeKey&&(this.setState({activeKey:c}),c!==null&&this.scrollTo({key:c,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var d=this.state,c=d.focused,y=d.flattenNodes,t=d.keyEntities,o=d.draggingNodeKey,r=d.activeKey,l=d.dropLevelOffset,f=d.dropContainerKey,u=d.dropTargetKey,h=d.dropPosition,g=d.dragOverNodeKey,x=d.indent,s=this.props,p=s.prefixCls,N=s.className,K=s.style,C=s.showLine,E=s.focusable,D=s.tabIndex,S=D===void 0?0:D,O=s.selectable,i=s.showIcon,R=s.icon,F=s.switcherIcon,A=s.draggable,I=s.checkable,$=s.checkStrictly,Z=s.disabled,j=s.motion,U=s.loadData,ee=s.filterTreeNode,he=s.height,ge=s.itemHeight,ye=s.scrollWidth,pe=s.virtual,Ke=s.titleRender,ce=s.dropIndicatorRender,X=s.onContextMenu,V=s.onScroll,Ee=s.direction,xe=s.rootClassName,De=s.rootStyle,te=(0,Xe.Z)(this.props,{aria:!0,data:!0}),ne;A&&(We()(A)==="object"?ne=A:typeof A=="function"?ne={nodeDraggable:A}:ne={});var me={prefixCls:p,selectable:O,showIcon:i,icon:R,switcherIcon:F,draggable:ne,draggingNodeKey:o,checkable:I,checkStrictly:$,disabled:Z,keyEntities:t,dropLevelOffset:l,dropContainerKey:f,dropTargetKey:u,dropPosition:h,dragOverNodeKey:g,indent:x,direction:Ee,dropIndicatorRender:ce,loadData:U,filterTreeNode:ee,titleRender:Ke,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return(0,w.jsx)(Ze.Provider,{value:me,children:(0,w.jsx)("div",{className:z()(p,N,xe,m()(m()(m()({},"".concat(p,"-show-line"),C),"".concat(p,"-focused"),c),"".concat(p,"-active-focused"),r!==null)),style:De,children:(0,w.jsx)(tn,L()(L()({ref:this.listRef,prefixCls:p,style:K,data:y,disabled:Z,selectable:O,checkable:!!I,motion:j,dragging:o!==null,height:he,itemHeight:ge,virtual:pe,focusable:E,focused:c,tabIndex:S,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:X,onScroll:V,scrollWidth:ye},this.getTreeNodeRequiredProps()),te))})})}}],[{key:"getDerivedStateFromProps",value:function(d,c){var y=c.prevProps,t={prevProps:d};function o(S){return!y&&d.hasOwnProperty(S)||y&&y[S]!==d[S]}var r,l=c.fieldNames;if(o("fieldNames")&&(l=Me(d.fieldNames),t.fieldNames=l),o("treeData")?r=d.treeData:o("children")&&((0,Q.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=Zt(d.children)),r){t.treeData=r;var f=Ut(r,{fieldNames:l});t.keyEntities=L()(m()({},se,at),f.keyEntities)}var u=t.keyEntities||c.keyEntities;if(o("expandedKeys")||y&&o("autoExpandParent"))t.expandedKeys=d.autoExpandParent||!y&&d.defaultExpandParent?st(d.expandedKeys,u):d.expandedKeys;else if(!y&&d.defaultExpandAll){var h=L()({},u);delete h[se];var g=[];Object.keys(h).forEach(function(S){var O=h[S];O.children&&O.children.length&&g.push(O.key)}),t.expandedKeys=g}else!y&&d.defaultExpandedKeys&&(t.expandedKeys=d.autoExpandParent||d.defaultExpandParent?st(d.defaultExpandedKeys,u):d.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,r||t.expandedKeys){var x=Fe(r||c.treeData,t.expandedKeys||c.expandedKeys,l);t.flattenNodes=x}if(d.selectable&&(o("selectedKeys")?t.selectedKeys=lt(d.selectedKeys,d):!y&&d.defaultSelectedKeys&&(t.selectedKeys=lt(d.defaultSelectedKeys,d))),d.checkable){var s;if(o("checkedKeys")?s=Ge(d.checkedKeys)||{}:!y&&d.defaultCheckedKeys?s=Ge(d.defaultCheckedKeys)||{}:r&&(s=Ge(d.checkedKeys)||{checkedKeys:c.checkedKeys,halfCheckedKeys:c.halfCheckedKeys}),s){var p=s,N=p.checkedKeys,K=N===void 0?[]:N,C=p.halfCheckedKeys,E=C===void 0?[]:C;if(!d.checkStrictly){var D=He(K,!0,u);K=D.checkedKeys,E=D.halfCheckedKeys}t.checkedKeys=K,t.halfCheckedKeys=E}}return o("loadedKeys")&&(t.loadedKeys=d.loadedKeys),t}}]),v}(P.Component);m()(Ve,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Pt,allowDrop:function(){return!0},expandAction:!1}),m()(Ve,"TreeNode",Le);var vn=Ve,hn=vn}}]);
